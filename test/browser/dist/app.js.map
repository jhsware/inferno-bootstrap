{"version":3,"sources":["webpack:///webpack/bootstrap 26aab92812da21aca7a2","webpack:///./~/inferno/index.js","webpack:///./lib/utils.js","webpack:///./~/classnames/index.js","webpack:///./~/inferno-component/index.js","webpack:///./~/process/browser.js","webpack:///./test/browser/src/components.jsx","webpack:///./~/history/PathUtils.js","webpack:///./~/warning/browser.js","webpack:///./test/browser/src/BasicPage.jsx","webpack:///./test/browser/src/CardPage.jsx","webpack:///./test/browser/src/CarouselPage.jsx","webpack:///./test/browser/src/FormPage.jsx","webpack:///./~/history/createBrowserHistory.js","webpack:///./~/inferno-router/index.js","webpack:///./lib/Alert.jsx","webpack:///./lib/Badge.jsx","webpack:///./lib/Breadcrumb.jsx","webpack:///./lib/BreadcrumbItem.jsx","webpack:///./lib/Button.jsx","webpack:///./lib/ButtonGroup.jsx","webpack:///./lib/ButtonToolbar.jsx","webpack:///./lib/Progress.jsx","webpack:///./test/browser/src/app.jsx","webpack:///./~/history/DOMUtils.js","webpack:///./~/history/LocationUtils.js","webpack:///./~/history/createTransitionManager.js","webpack:///./~/inferno-component/dist/index.js","webpack:///./~/inferno-create-element/dist/index.js","webpack:///./~/inferno-create-element/index.js","webpack:///./~/inferno-router/dist/index.js","webpack:///./~/inferno-router/~/isarray/index.js","webpack:///./~/inferno-router/~/path-to-regexp/index.js","webpack:///./~/inferno/dist/index.js","webpack:///./~/invariant/browser.js","webpack:///./~/lodash.tonumber/index.js","webpack:///./~/resolve-pathname/index.js","webpack:///./~/value-equal/index.js","webpack:///./test/browser/src/Basic/Alert.jsx","webpack:///./test/browser/src/Basic/Badge.jsx","webpack:///./test/browser/src/Basic/Breadcrumb.jsx"],"names":["module","exports","require","default","getTetherAttachments","placement","attachments","attachment","targetAttachment","tetherAttachements","getScrollbarWidth","scrollDiv","document","createElement","style","position","top","width","height","overflow","body","appendChild","scrollbarWidth","offsetWidth","clientWidth","removeChild","setScrollbarWidth","padding","paddingRight","isBodyOverflowing","window","innerWidth","getOriginalBodyPadding","parseInt","getComputedStyle","getPropertyValue","conditionallyUpdateScrollbar","fixedContent","querySelectorAll","bodyPadding","mapToCssModules","className","cssModule","split","map","c","join","omit","obj","omitKeys","result","Object","keys","forEach","key","indexOf","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","apply","call","define","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","args","Item","array","prototype","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","Section","children","Stage","Scene","__esModule","addLeadingSlash","path","charAt","stripLeadingSlash","substr","hasBasename","prefix","RegExp","test","stripBasename","stripTrailingSlash","slice","parsePath","pathname","search","hash","hashIndex","searchIndex","createPath","location","warning","NODE_ENV","condition","format","undefined","argIndex","message","replace","console","error","x","BasicPage","constructor","props","state","active","componentDidMount","setState","render","ContentSection","CardPage","CarouselPage","FormPage","_typeof","Symbol","iterator","_extends","assign","target","source","_warning","_warning2","_interopRequireDefault","_invariant","_invariant2","_LocationUtils","_PathUtils","_createTransitionManager","_createTransitionManager2","_DOMUtils","PopStateEvent","HashChangeEvent","getHistoryState","history","createBrowserHistory","canUseDOM","globalHistory","canUseHistory","supportsHistory","needsHashChangeListener","supportsPopStateOnHashChange","_props$forceRefresh","forceRefresh","_props$getUserConfirm","getUserConfirmation","getConfirmation","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createLocation","createKey","Math","random","toString","transitionManager","nextState","notifyListeners","action","handlePopState","event","isExtraneousPopstateEvent","handlePop","handleHashChange","forceNextPop","confirmTransitionTo","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","href","pushState","prevIndex","nextKeys","replaceState","n","goBack","goForward","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","block","prompt","unblock","setPrompt","listen","listener","unlisten","appendListener","defaultProps","color","el","Alert","El","onClose","attributes","closeClasses","pill","Badge","Breadcrumb","BreadcrumbItem","Button","onClick","bind","disabled","preventDefault","outline","size","getRef","role","ButtonGroup","vertical","ButtonToolbar","value","max","Progress","barClassName","animated","striped","bar","multi","percent","toNumber","progressClasses","progressBarClasses","ProgressBar","AppLayout","browserHistory","appRoutes","Inferno","getElementById","node","attachEvent","detachEvent","callback","confirm","ua","navigator","userAgent","supportsGoWithoutReloadUsingHash","locationsAreEqual","_resolvePathname","_resolvePathname2","_valueEqual","_valueEqual2","currentLocation","decodeURI","URIError","a","b","createTransitionManager","nextPrompt","fn","isActive","filter","item","_len","_key","defineProperty","inferno","NO_OP","ERROR_MSG","isBrowser","isStringOrNumber","o","type","isNullOrUndef","isUndefined","isNull","isInvalid","isTrue","isFunction","throwError","combineFrom","first","second","out","key$1","noOp","componentCallbackQueue","Map","updateParentComponentVNodes","vNode","dom","flags","parentVNode","resolvedPromise","Promise","resolve","addToQueue","component","force","get","set","then","delete","_updating","applyState","queueStateChanges","newState","context","pending","_pendingState","stateKey","_pendingSetState","_blockRender","_lifecycle","_unmounted","pendingState","prevState","nextInput","_updateComponent","didUpdate","createVNode","_lastInput","lastInput","_vNode","parentDom","parentNode","childContext","getChildContext","_childContext","lifeCycle","internal_patch","_isSVG","trigger","componentDidUpdate","options","afterUpdate","findDOMNodeEnabled","internal_DOMNodeMap","alreadyWarned","Component","_blockSetState","EMPTY_OBJ","forceUpdate","setStateSync","warn","prevProps","nextProps","fromSetState","componentWillReceiveProps","beforeState","afterState","shouldComponentUpdate","componentWillUpdate","beforeRender","afterRender","nextContext","isString","isObject","componentHooks","Set","add","_children","ref","newProps","getFlagsForElementVnode","prop","prop$1","has","_interopDefault","ex","Inferno__default","toArray","emptyObject","decode","val","decodeURIComponent","isEmpty","flatten","oldArray","newArray","flattenArray","getURLString","mapSearchParams","create","fragments","fragment","mapFragment","k","v","toPartialURL","fullURL","partURL","rest","_args","excluded","t","p","pathRankSort","aAttr","bAttr","diff","rank","isVal","strip","url","match","Route","Component$$1","this$1","_onComponentResolved","asyncComponent","__proto__","componentWillMount","onEnter","ref$1","router","ref$2","getComponent","onLeave","componentWillUnmount","resolvedComponent","handleIndexRoute","indexRouteNode","handleChildRoute","childRouteNode","handleRouteNode","handleChildRoutes","childRouteNodes","routeConfigNode","indexRoute","childRoutes","nodes","createRoutes","routeConfig","__rest","s","getOwnPropertySymbols","renderLink","classNm","otherProps","Link","activeClassName","activeStyle","to","baseUrl","onclick","navigate","button","ctrlKey","altKey","metaKey","shiftKey","textContent","IndexLink","IndexRoute","Route$$1","createCommonjsModule","index$5","arr","index$2","pathToRegexp$1","parse_1","parse","compile_1","compile","tokensToFunction_1","tokensToFunction","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","str","tokens","index","defaultDelimiter","delimiter","res","exec","m","escaped","offset","next","capture","group","modifier","asterisk","partial","repeat","optional","pattern","escapeGroup","escapeString","encodeURIComponentPretty","encodeURI","charCodeAt","toUpperCase","encodeAsterisk","matches","opts","data","encode","pretty","encodeURIComponent","token","segment","TypeError","JSON","stringify","j","attachKeys","re","sensitive","regexpToRegexp","groups","arrayToRegexp","parts","regexp","stringToRegexp","strict","end","route","endsWithDelimiter","index$4","freeze","__moduleExports","pathToRegExp$1","index$1","cache","routes","currentURL","matchRoutes","_routes","parentPath","redirect","pathToMatch","params","sort","routePath","from","isLast","matchBase","matchPath","matchChild","matched","childProps","cloneVNode","Redirect","RouterContext","createrRouter","Router","routeTo","onUpdate","hit","IndexRedirect","isarray","pathToRegexp","isStatefulComponent","isNumber","Lifecycle","shift","afterMount","beforeUnmount","recyclingEnabled","roots","xlinkNS","xmlNS","svgNS","strictProps","booleanProps","namespaces","isUnitlessNumber","skipProps","delegatedEvents","isiOS","platform","delegatedEvents$1","handleEvent","lastEvent","nextEvent","delegatedRoots","items","docEvent","attachEventToDocument","trapClickOnNonInteractiveElement","normalizeEventName","dispatchEvent","count","isClick","eventData","eventsToTrigger","cancelBubble","nodeType","toLowerCase","stopPropagation","stopImmediatePropagation","configurable","emptyFn","isCheckedType","onTextInputChange","previousValue","onInput","oninput","newVNode","applyValue","wrappedOnChange","onChange","onCheckboxChange","processInput","nextPropsOrEmpty","mounting","isControlled","wrapped","onchange","checked","multiple","defaultValue","hasValue","setAttribute","updateChildOptionGroup","updateChildOption","isVNode","selected","onSelectChange","applyValue$1","processSelect","wrappedOnChange$1","onTextareaInputChange","applyValue$2","processTextarea","domValue","processElement","isControlledFormElement","normalizeChildNodes","firstChild","placeholder","createTextNode","replaceChild","nextSibling","lastDom","previousSibling","hydrateComponent","lifecycle","isSVG","isClass","namespaceURI","instance","createClassComponentInstance","input","hydrate","mountClassComponentCallbacks","componentToDOMNodeMap","input$1","createFunctionalComponentInput","mountFunctionalComponentCallbacks","hydrateElement","tagName","newDom","mountElement","hydrateChildren","hasControlledValue","isFormElement","patchProp","removeAttribute","mountRef","nodeValue","child","mount","nextSibling$1","hydrateText","mountText","text","hydrateVoid","hydrateRoot","componentPools","elementPools","recycleElement","tag","pools","pool","nonKeyed","keyed","recycledVNode","pop","patchElement","poolElement","recycleComponent","failed","patchComponent","poolComponent","hooks","nonRecycleHooks","onComponentWillMount","onComponentWillUnmount","onComponentDidMount","onComponentWillUpdate","onComponentDidUpdate","unmount","canRecycle","isRecycling","unmountComponent","unmountElement","unmountVoidOrText","isStatefulComponent$$1","unmountRef","unmountChildren$1","isAttrAnEvent","patchEvent","findDOMNode","getRoot","root","setRoot","removeRoot","splice","documentBody","directClone","lifecycle$1","patch","rootInput","createRenderer","renderer","lastVNode","nextVNode","lastFlags","nextFlags","replaceVNode","mountComponent","patchText","patchVoid","mountVoid","replaceLastChildAndUnmount","unmountChildren","removeAllChildren","nextTag","lastTag","replaceWithNewNode","lastProps","lastChildren","nextChildren","nextRef","lastClassName","nextClassName","childrenIsSVG","patchChildren","lastPropsOrEmpty","nextValue","lastValue","removeProp","patchArray","patchKeyed","setTextContent","mountArrayChildren","updateTextContent","isKeyed","patchKeyedChildren","patchNonKeyedChildren","lastType","nextType","lastKey","nextKey","hasComponentDidUpdate","lastState","createVoidVNode","createTextVNode","shouldUpdate","lastProps$1","nextHooks","nextHooksDefined","lastInput$1","nextInput$1","onComponentShouldUpdate","nextText","lastChildrenLength","nextChildrenLength","commonLength","nextChild","nextChild$1","aLength","bLength","aEnd","bEnd","aStart","bStart","aNode","bNode","nextNode","nextPos","aStartNode","bStartNode","aEndNode","bEndNode","outer","insertOrAppend","sources","moved","pos","patched","keyIndex","seq","lis_algorithm","u","arrI","attr","patchStyle","lastHtml","__html","nextHtml","innerHTML","setAttributeNS","nameLowerCase","domEvent","linkEvent","lastAttrValue","nextAttrValue","domStyle","cssText","documentCreateElement","hasDidMount","newNode","insertBefore","createElementNS","lastNode","nextDom","removeChildren","VNode","noNormalise","normalize","vNodeToClone","propsToClone","newChildren","tmpArray","props$1","propsToClone$1","len$2","childrenLen","len$1","tmpArray$1","i$1","applyKey","applyKeyIfMissing","applyKeyPrefix","_normalizeVNodes","currentKey","normalizeVNodes","newNodes","normalizeChildren","normalizeProps","verifyKeys","vNodes","keyValues","vnode","some","idx","hasDuplicate","testFunc","testFn","internal_isUnitlessNumber","internal_normalize","invariant","d","f","framesToPop","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","objectProto","objectToString","isObjectLike","isSymbol","other","valueOf","isBinary","isAbsolute","spliceOne","list","resolvePathname","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","up","part","unshift","valueEqual","every","aType","bType","aValue","bValue","aKeys","bKeys"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 26aab92812da21aca7a2","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno/index.js","export function getTetherAttachments(placement) {\n  let attachments = {};\n  switch (placement) {\n    case 'top':\n    case 'top center':\n      attachments = {\n        attachment: 'bottom center',\n        targetAttachment: 'top center'\n      };\n      break;\n    case 'bottom':\n    case 'bottom center':\n      attachments = {\n        attachment: 'top center',\n        targetAttachment: 'bottom center'\n      };\n      break;\n    case 'left':\n    case 'left center':\n      attachments = {\n        attachment: 'middle right',\n        targetAttachment: 'middle left'\n      };\n      break;\n    case 'right':\n    case 'right center':\n      attachments = {\n        attachment: 'middle left',\n        targetAttachment: 'middle right'\n      };\n      break;\n    case 'top left':\n      attachments = {\n        attachment: 'bottom left',\n        targetAttachment: 'top left'\n      };\n      break;\n    case 'top right':\n      attachments = {\n        attachment: 'bottom right',\n        targetAttachment: 'top right'\n      };\n      break;\n    case 'bottom left':\n      attachments = {\n        attachment: 'top left',\n        targetAttachment: 'bottom left'\n      };\n      break;\n    case 'bottom right':\n      attachments = {\n        attachment: 'top right',\n        targetAttachment: 'bottom right'\n      };\n      break;\n    case 'right top':\n      attachments = {\n        attachment: 'top left',\n        targetAttachment: 'top right'\n      };\n      break;\n    case 'right bottom':\n      attachments = {\n        attachment: 'bottom left',\n        targetAttachment: 'bottom right'\n      };\n      break;\n    case 'left top':\n      attachments = {\n        attachment: 'top right',\n        targetAttachment: 'top left'\n      };\n      break;\n    case 'left bottom':\n      attachments = {\n        attachment: 'bottom right',\n        targetAttachment: 'bottom left'\n      };\n      break;\n    default:\n      attachments = {\n        attachment: 'top center',\n        targetAttachment: 'bottom center'\n      };\n  }\n\n  return attachments;\n}\n\nexport const tetherAttachements = [\n  'top',\n  'bottom',\n  'left',\n  'right',\n  'top left',\n  'top center',\n  'top right',\n  'right top',\n  'right middle',\n  'right bottom',\n  'bottom right',\n  'bottom center',\n  'bottom left',\n  'left top',\n  'left middle',\n  'left bottom'\n];\n\n// https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L436-L443\nexport function getScrollbarWidth() {\n  let scrollDiv = document.createElement('div');\n  // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? `${padding}px` : null;\n}\n\nexport function isBodyOverflowing() {\n  return document.body.clientWidth < window.innerWidth;\n}\n\nexport function getOriginalBodyPadding() {\n  return parseInt(\n    window.getComputedStyle(document.body, null).getPropertyValue('padding-right') || 0,\n    10\n  );\n}\n\nexport function conditionallyUpdateScrollbar() {\n  const scrollbarWidth = getScrollbarWidth();\n  // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/js/src/modal.js#L420\n  const fixedContent = document.querySelectorAll('.navbar-fixed-top, .navbar-fixed-bottom, .is-fixed')[0];\n  const bodyPadding = fixedContent ? parseInt(\n    fixedContent.style.paddingRight || 0,\n    10\n  ) : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nexport function mapToCssModules(className, cssModule) {\n  if (!cssModule) return className;\n  return className.split(' ').map(c => cssModule[c] || c).join(' ');\n}\n\n/**\n * Returns a new object with the key/value pairs from `obj` that are not in the array `omitKeys`.\n */\nexport function omit(obj, omitKeys) {\n  const result = {};\n  Object.keys(obj).forEach(key => {\n    if (omitKeys.indexOf(key) === -1) {\n      result[key] = obj[key];\n    }\n  });\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./~/classnames/index.js","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-component/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./~/process/browser.js","export function Section ({ children }) {\n  return (\n    <div class=\"ExampleSection\">\n      {children}\n    </div>\n  )\n}\n\nexport function Stage ({ children }) {\n  return (\n    <div class=\"ExampleStage\">\n      {children}\n    </div>\n  )\n}\n\nexport function Scene ({ children }) {\n  return (\n    <div class=\"ExampleScene\">\n      {children}\n    </div>\n  )\n}\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/components.jsx","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar hasBasename = exports.hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\n\nvar stripBasename = exports.stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = pathname || '/';\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/history/PathUtils.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n// WEBPACK FOOTER //\n// ./~/warning/browser.js","import Component from 'inferno-component'\n\nimport AlertSection from './Basic/Alert.jsx'\nimport BadgeSection from './Basic/Badge.jsx'\nimport BreadcrumbSection from './Basic/Breadcrumb.jsx'\n\nimport Button from '../../../lib/Button.jsx'\nimport ButtonGroup from '../../../lib/ButtonGroup.jsx'\nimport ButtonToolbar from '../../../lib/ButtonToolbar.jsx'\nimport Modal from '../../../lib/Modal.jsx'\nimport Progress from '../../../lib/Progress.jsx'\n\n\n\nclass BasicPage extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      active: false\n    }\n  }\n\n  componentDidMount () {\n    setTimeout(() => {\n      this.setState({\n        active: true\n      })\n    }, 10)\n  }\n\n  render () {\n\n    return (\n      <div className={!this.state.active ? 'InfernoAnimation--noAnim' : ''}>\n        <AlertSection />\n        <BadgeSection />\n        <BreadcrumbSection />\n      </div>\n    )\n  }\n}\n\nexport default BasicPage\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/BasicPage.jsx","import Component from 'inferno-component'\n\nimport { Section, Stage } from './components.jsx'\n\nfunction ContentSection () {\n  return (\n    <Section>\n      <h2>Content Examples</h2>\n      <Stage>\n        \n      </Stage>\n    </Section>\n  )\n}\n\nclass CardPage extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      active: false\n    }\n  }\n\n  componentDidMount () {\n    setTimeout(() => {\n      this.setState({\n        active: true\n      })\n    }, 10)\n  }\n\n  render () {\n\n    return (\n      <div className={!this.state.active ? 'InfernoAnimation--noAnim' : ''}>\n        <ContentSection />\n      </div>\n    )\n  }\n}\n\nexport default CardPage\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/CardPage.jsx","import Component from 'inferno-component'\n\nimport { Section, Stage } from './components.jsx'\n\nfunction ContentSection () {\n  return (\n    <Section>\n      <h2>Content Examples</h2>\n      <Stage>\n        \n      </Stage>\n    </Section>\n  )\n}\n\nclass CarouselPage extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      active: false\n    }\n  }\n\n  componentDidMount () {\n    setTimeout(() => {\n      this.setState({\n        active: true\n      })\n    }, 10)\n  }\n\n  render () {\n\n    return (\n      <div className={!this.state.active ? 'InfernoAnimation--noAnim' : ''}>\n        <ContentSection />\n      </div>\n    )\n  }\n}\n\nexport default CarouselPage\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/CarouselPage.jsx","import Component from 'inferno-component'\n\nimport { Section, Stage } from './components.jsx'\n\nfunction ContentSection () {\n  return (\n    <Section>\n      <h2>Content Examples</h2>\n      <Stage>\n        \n      </Stage>\n    </Section>\n  )\n}\n\nclass FormPage extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      active: false\n    }\n  }\n\n  componentDidMount () {\n    setTimeout(() => {\n      this.setState({\n        active: true\n      })\n    }, 10)\n  }\n\n  render () {\n\n    return (\n      <div className={!this.state.active ? 'InfernoAnimation--noAnim' : ''}>\n        <ContentSection />\n      </div>\n    )\n  }\n}\n\nexport default FormPage\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/FormPage.jsx","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;\n\n\n// WEBPACK FOOTER //\n// ./~/history/createBrowserHistory.js","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-router/index.js","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  color: 'success',\n  el: 'div'\n};\n\nconst Alert = (props) => {\n  const {\n    className,\n    cssModule,\n    el: El,\n    color, // success || info ||warning || danger\n    onClose,\n    children,\n    ...attributes\n  } = props;\n\n  const classes = mapToCssModules(classNames(\n    className,\n    'alert',\n    `alert-${color}`,\n    { 'alert-dismissible': onClose }\n  ), cssModule);\n\n  const closeClasses = mapToCssModules('close', cssModule);\n\n  return (\n    <El {...attributes} className={classes} role=\"alert\">\n      { onClose ?\n        <button type=\"button\" className={closeClasses} aria-label=\"Close\" onClick={onClose}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n        : null }\n      { children }\n    </El>\n  )\n\n};\n\nAlert.defaultProps = defaultProps;\n\nexport default Alert;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Alert.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  color: 'default',\n  pill: false,\n  el: 'span'\n};\n\nconst Badge = (props) => {\n  const {\n    className,\n    cssModule,\n    color,\n    pill,\n    el: El,\n    ...attributes\n  } = props;\n\n  const classes = mapToCssModules(classNames(\n    className,\n    'badge',\n    'badge-' + color,\n    pill ? 'badge-pill' : false\n  ), cssModule);\n\n  return (\n    <El {...attributes} className={classes} />\n  );\n};\n\nBadge.defaultProps = defaultProps;\n\nexport default Badge;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Badge.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  el: 'ol'\n};\n\nconst Breadcrumb = (props) => {\n  const {\n    className,\n    cssModule,\n    el: El,\n    ...attributes\n  } = props;\n  const classes = mapToCssModules(classNames(\n    className,\n    'breadcrumb'\n  ), cssModule);\n\n  return (\n    <El {...attributes} className={classes} />\n  );\n};\n\nBreadcrumb.defaultProps = defaultProps;\n\nexport default Breadcrumb;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Breadcrumb.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  el: 'li'\n};\n\nconst BreadcrumbItem = (props) => {\n  const {\n    className,\n    cssModule,\n    active,\n    el: El,\n    ...attributes\n  } = props;\n  const classes = mapToCssModules(classNames(\n    className,\n    active ? 'active' : false,\n    'breadcrumb-item'\n  ), cssModule);\n\n  return (\n    <El {...attributes} className={classes} />\n  );\n};\n\nBreadcrumbItem.defaultProps = defaultProps;\n\nexport default BreadcrumbItem;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/BreadcrumbItem.jsx","import Inferno from 'inferno';\nimport Component from 'inferno-component';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  color: 'secondary',\n  el: 'button',\n};\n\nclass Button extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e) {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.props.onClick) {\n      this.props.onClick(e);\n    }\n  }\n\n  render() {\n    let {\n      active,\n      block,\n      className,\n      cssModule,\n      color, // primary | secondary | success | info | warning | danger | link\n      outline,\n      size,\n      el: El,\n      getRef,\n      ...attributes\n    } = this.props;\n\n    const classes = mapToCssModules(classNames(\n      className,\n      'btn',\n      `btn${outline ? '-outline' : ''}-${color}`,\n      size ? `btn-${size}` : false,\n      block ? 'btn-block' : false,\n      { active, disabled: this.props.disabled }\n    ), cssModule);\n\n    if (attributes.href && El === 'button') {\n      El = 'a';\n    }\n\n    return (\n      <El\n        type={(El === 'button' && attributes.onClick) ? 'button' : undefined}\n        {...attributes}\n        className={classes}\n        ref={getRef}\n        onClick={this.onClick}\n      />\n    );\n  }\n}\n\nButton.defaultProps = defaultProps;\n\nexport default Button;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Button.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  el: 'div',\n  role: 'group',\n};\n\nconst ButtonGroup = (props) => {\n  const {\n    className,\n    cssModule,\n    size,\n    vertical,\n    el: El,\n    ...attributes\n  } = props;\n\n  const classes = mapToCssModules(classNames(\n    className,\n    size ? 'btn-group-' + size : false,\n    vertical ? 'btn-group-vertical' : 'btn-group'\n  ), cssModule);\n\n  return (\n    <El {...attributes} className={classes} />\n  );\n};\n\nButtonGroup.defaultProps = defaultProps;\n\nexport default ButtonGroup;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ButtonGroup.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  el: 'div',\n  role: 'toolbar',\n};\n\nconst ButtonToolbar = (props) => {\n  const {\n    className,\n    cssModule,\n    el: El,\n    ...attributes\n  } = props;\n\n  const classes = mapToCssModules(classNames(\n    className,\n    'btn-toolbar'\n  ), cssModule);\n\n  return (\n    <El {...attributes} className={classes} />\n  );\n};\n\nButtonToolbar.defaultProps = defaultProps;\n\nexport default ButtonToolbar;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ButtonToolbar.jsx","import Inferno from 'inferno';\nimport classNames from 'classnames';\nimport toNumber from 'lodash.tonumber';\nimport { mapToCssModules } from './utils';\n\nconst defaultProps = {\n  el: 'div',\n  value: 0,\n  max: 100,\n};\n\nconst Progress = (props) => {\n  const {\n    children,\n    className,\n    barClassName,\n    cssModule,\n    value,\n    max,\n    animated,\n    striped,\n    color, // success | info | warning | danger\n    bar,\n    multi,\n    el: El,\n    ...attributes\n  } = props;\n\n  const percent = ((toNumber(value) / toNumber(max)) * 100);\n\n  const progressClasses = mapToCssModules(classNames(\n    className,\n    'progress'\n  ), cssModule);\n\n  const progressBarClasses = mapToCssModules(classNames(\n    'progress-bar',\n    bar ? className || barClassName : barClassName,\n    animated ? 'progress-bar-animated' : null,\n    color ? `bg-${color}` : null,\n    striped || animated ? 'progress-bar-striped' : null\n  ), cssModule);\n\n  const ProgressBar = multi ? children : (\n    <div\n      className={progressBarClasses}\n      style={{ width: `${percent}%` }}\n      role=\"progressbar\"\n      aria-valuenow={value}\n      aria-valuemin=\"0\"\n      aria-valuemax={max}\n      children={children}\n    />\n  );\n\n  if (bar) {\n    return ProgressBar;\n  }\n\n  return (\n    <El {...attributes} className={progressClasses} children={ProgressBar} />\n  );\n};\n\nProgress.defaultProps = defaultProps;\n\nexport default Progress;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Progress.jsx","import Inferno from 'inferno'\n\nimport { Router, Route, IndexRoute, Link } from 'inferno-router'\nimport createBrowserHistory from 'history/createBrowserHistory'\n\nimport BasicPage from './BasicPage.jsx'\nimport CardPage from './CardPage.jsx'\nimport CarouselPage from './CarouselPage.jsx'\nimport FormPage from './FormPage.jsx'\n\n\nfunction AppLayout (props) {\n  return (\n    <div>\n      <div className=\"Menu\">\n        <Link to=\"/basic\">Basic</Link>\n        <Link to=\"/card\">Card</Link>\n        <Link to=\"/carousel\">Carousel</Link>\n        <Link to=\"/form\">Form</Link>\n      </div>\n      <div className=\"Content\">\n        {props.children}\n      </div>\n    </div>\n  )\n}\n\nif (typeof window !== 'undefined') {\n  const browserHistory = createBrowserHistory()\n\n  const appRoutes = (\n    <Router history={ browserHistory }>\n      <Route component={ AppLayout }>\n        <IndexRoute component={ BasicPage } />\n        <Route path=\"/basic\" component={ BasicPage } />\n        <Route path=\"/card\" component={ CardPage } />\n        <Route path=\"/carousel\" component={ CarouselPage } />\n        <Route path=\"/form\" component={ FormPage } />\n      </Route>\n    </Router>\n  )\n  Inferno.render(appRoutes, document.getElementById('app'))\n}\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/app.jsx","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/history/DOMUtils.js","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/history/LocationUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;\n\n\n// WEBPACK FOOTER //\n// ./~/history/createTransitionManager.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar inferno = require('inferno');\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nvar NO_OP = \"$NO_OP\";\r\nvar ERROR_MSG = \"a runtime error occured! Use Inferno in development environment to find the error.\";\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== \"undefined\" && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === \"string\" || type === \"number\";\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === \"function\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\n\n/**\r\n * @module Inferno-Component\r\n */ /** TypeDoc Comment */\r\n// Make sure u use EMPTY_OBJ from 'inferno', otherwise it'll be a different reference\r\nvar noOp = ERROR_MSG;\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    noOp =\r\n        \"Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.\";\r\n}\r\nvar componentCallbackQueue = new Map();\r\n// when a components root VNode is also a component, we can run into issues\r\n// this will recursively look for vNode.parentNode if the VNode is a component\r\nfunction updateParentComponentVNodes(vNode, dom) {\r\n    if (vNode.flags & 28 /* Component */) {\r\n        var parentVNode = vNode.parentVNode;\r\n        if (parentVNode) {\r\n            parentVNode.dom = dom;\r\n            updateParentComponentVNodes(parentVNode, dom);\r\n        }\r\n    }\r\n}\r\nvar resolvedPromise = Promise.resolve();\r\nfunction addToQueue(component, force, callback) {\r\n    var queue = componentCallbackQueue.get(component);\r\n    if (queue === void 0) {\r\n        queue = [];\r\n        componentCallbackQueue.set(component, queue);\r\n        resolvedPromise.then((function () {\r\n            componentCallbackQueue.delete(component);\r\n            component._updating = true;\r\n            applyState(component, force, (function () {\r\n                for (var i = 0, len = queue.length; i < len; i++) {\r\n                    queue[i].call(component);\r\n                }\r\n            }));\r\n            component._updating = false;\r\n        }));\r\n    }\r\n    if (!isNullOrUndef(callback)) {\r\n        queue.push(callback);\r\n    }\r\n}\r\nfunction queueStateChanges(component, newState, callback) {\r\n    if (isFunction(newState)) {\r\n        newState = newState(component.state, component.props, component.context);\r\n    }\r\n    var pending = component._pendingState;\r\n    if (isNullOrUndef(pending)) {\r\n        component._pendingState = pending = newState;\r\n    }\r\n    else {\r\n        for (var stateKey in newState) {\r\n            pending[stateKey] = newState[stateKey];\r\n        }\r\n    }\r\n    if (isBrowser && !component._pendingSetState && !component._blockRender) {\r\n        if (!component._updating) {\r\n            component._pendingSetState = true;\r\n            component._updating = true;\r\n            applyState(component, false, callback);\r\n            component._updating = false;\r\n        }\r\n        else {\r\n            addToQueue(component, false, callback);\r\n        }\r\n    }\r\n    else {\r\n        var state = component.state;\r\n        if (state === null) {\r\n            component.state = pending;\r\n        }\r\n        else {\r\n            for (var key in pending) {\r\n                state[key] = pending[key];\r\n            }\r\n        }\r\n        component._pendingState = null;\r\n        if (!isNullOrUndef(callback) && component._blockRender) {\r\n            component._lifecycle.addListener(callback.bind(component));\r\n        }\r\n    }\r\n}\r\nfunction applyState(component, force, callback) {\r\n    if (component._unmounted) {\r\n        return;\r\n    }\r\n    if (force || !component._blockRender) {\r\n        component._pendingSetState = false;\r\n        var pendingState = component._pendingState;\r\n        var prevState = component.state;\r\n        var nextState = combineFrom(prevState, pendingState);\r\n        var props = component.props;\r\n        var context = component.context;\r\n        component._pendingState = null;\r\n        var nextInput = component._updateComponent(prevState, nextState, props, props, context, force, true);\r\n        var didUpdate = true;\r\n        if (isInvalid(nextInput)) {\r\n            nextInput = inferno.createVNode(4096 /* Void */, null);\r\n        }\r\n        else if (nextInput === NO_OP) {\r\n            nextInput = component._lastInput;\r\n            didUpdate = false;\r\n        }\r\n        else if (isStringOrNumber(nextInput)) {\r\n            nextInput = inferno.createVNode(1 /* Text */, null, null, nextInput);\r\n        }\r\n        else if (isArray(nextInput)) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n            }\r\n            throwError();\r\n        }\r\n        var lastInput = component._lastInput;\r\n        var vNode = component._vNode;\r\n        var parentDom = (lastInput.dom && lastInput.dom.parentNode) ||\r\n            (lastInput.dom = vNode.dom);\r\n        component._lastInput = nextInput;\r\n        if (didUpdate) {\r\n            var childContext;\r\n            if (!isNullOrUndef(component.getChildContext)) {\r\n                childContext = component.getChildContext();\r\n            }\r\n            if (isNullOrUndef(childContext)) {\r\n                childContext = component._childContext;\r\n            }\r\n            else {\r\n                childContext = combineFrom(context, childContext);\r\n            }\r\n            var lifeCycle = component._lifecycle;\r\n            inferno.internal_patch(lastInput, nextInput, parentDom, lifeCycle, childContext, component._isSVG, false);\r\n            lifeCycle.trigger();\r\n            if (!isNullOrUndef(component.componentDidUpdate)) {\r\n                component.componentDidUpdate(props, prevState, context);\r\n            }\r\n            if (!isNull(inferno.options.afterUpdate)) {\r\n                inferno.options.afterUpdate(vNode);\r\n            }\r\n        }\r\n        var dom = (vNode.dom = nextInput.dom);\r\n        if (inferno.options.findDOMNodeEnabled) {\r\n            inferno.internal_DOMNodeMap.set(component, nextInput.dom);\r\n        }\r\n        updateParentComponentVNodes(vNode, dom);\r\n    }\r\n    else {\r\n        component.state = component._pendingState;\r\n        component._pendingState = null;\r\n    }\r\n    if (!isNullOrUndef(callback)) {\r\n        callback.call(component);\r\n    }\r\n}\r\nvar alreadyWarned = false;\r\nvar Component = function Component(props, context) {\r\n    this.state = null;\r\n    this._blockRender = false;\r\n    this._blockSetState = true;\r\n    this._pendingSetState = false;\r\n    this._pendingState = null;\r\n    this._lastInput = null;\r\n    this._vNode = null;\r\n    this._unmounted = false;\r\n    this._lifecycle = null;\r\n    this._childContext = null;\r\n    this._isSVG = false;\r\n    this._updating = true;\r\n    /** @type {object} */\r\n    this.props = props || inferno.EMPTY_OBJ;\r\n    /** @type {object} */\r\n    this.context = context || inferno.EMPTY_OBJ; // context should not be mutable\r\n};\r\nComponent.prototype.forceUpdate = function forceUpdate (callback) {\r\n    if (this._unmounted || !isBrowser) {\r\n        return;\r\n    }\r\n    applyState(this, true, callback);\r\n};\r\nComponent.prototype.setState = function setState (newState, callback) {\r\n    if (this._unmounted) {\r\n        return;\r\n    }\r\n    if (!this._blockSetState) {\r\n        queueStateChanges(this, newState, callback);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"cannot update state via setState() in componentWillUpdate() or constructor.\");\r\n        }\r\n        throwError();\r\n    }\r\n};\r\nComponent.prototype.setStateSync = function setStateSync (newState) {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (!alreadyWarned) {\r\n            alreadyWarned = true;\r\n            // tslint:disable-next-line:no-console\r\n            console.warn(\"Inferno WARNING: setStateSync has been deprecated and will be removed in next release. Use setState instead.\");\r\n        }\r\n    }\r\n    this.setState(newState);\r\n};\r\nComponent.prototype._updateComponent = function _updateComponent (prevState, nextState, prevProps, nextProps, context, force, fromSetState) {\r\n    if (this._unmounted === true) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(noOp);\r\n        }\r\n        throwError();\r\n    }\r\n    if (prevProps !== nextProps ||\r\n        nextProps === inferno.EMPTY_OBJ ||\r\n        prevState !== nextState ||\r\n        force) {\r\n        if (prevProps !== nextProps || nextProps === inferno.EMPTY_OBJ) {\r\n            if (!isNullOrUndef(this.componentWillReceiveProps) && !fromSetState) {\r\n                // keep a copy of state before componentWillReceiveProps\r\n                var beforeState = combineFrom(this.state);\r\n                this._blockRender = true;\r\n                this.componentWillReceiveProps(nextProps, context);\r\n                this._blockRender = false;\r\n                var afterState = this.state;\r\n                if (beforeState !== afterState) {\r\n                    // if state changed in componentWillReceiveProps, reassign the beforeState\r\n                    this.state = beforeState;\r\n                    // set the afterState as pending state so the change gets picked up below\r\n                    this._pendingSetState = true;\r\n                    this._pendingState = afterState;\r\n                }\r\n            }\r\n            if (this._pendingSetState) {\r\n                nextState = combineFrom(nextState, this._pendingState);\r\n                this._pendingSetState = false;\r\n                this._pendingState = null;\r\n            }\r\n        }\r\n        /* Update if scu is not defined, or it returns truthy value or force */\r\n        if (force ||\r\n            isNullOrUndef(this.shouldComponentUpdate) ||\r\n            (this.shouldComponentUpdate &&\r\n                this.shouldComponentUpdate(nextProps, nextState, context))) {\r\n            if (!isNullOrUndef(this.componentWillUpdate)) {\r\n                this._blockSetState = true;\r\n                this.componentWillUpdate(nextProps, nextState, context);\r\n                this._blockSetState = false;\r\n            }\r\n            this.props = nextProps;\r\n            this.state = nextState;\r\n            this.context = context;\r\n            if (inferno.options.beforeRender) {\r\n                inferno.options.beforeRender(this);\r\n            }\r\n            var render = this.render(nextProps, nextState, context);\r\n            if (inferno.options.afterRender) {\r\n                inferno.options.afterRender(this);\r\n            }\r\n            return render;\r\n        }\r\n        else {\r\n            this.props = nextProps;\r\n            this.state = nextState;\r\n            this.context = context;\r\n        }\r\n    }\r\n    return NO_OP;\r\n};\r\n// tslint:disable-next-line:no-empty\r\nComponent.prototype.render = function render (nextProps, nextState, nextContext) { };\n\nexports['default'] = Component;\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-component/dist/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar inferno = require('inferno');\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === \"object\";\r\n}\n\n/**\r\n * @module Inferno-Create-Element\r\n */ /** TypeDoc Comment */\r\nvar componentHooks = new Set();\r\ncomponentHooks.add(\"onComponentWillMount\");\r\ncomponentHooks.add(\"onComponentDidMount\");\r\ncomponentHooks.add(\"onComponentWillUnmount\");\r\ncomponentHooks.add(\"onComponentShouldUpdate\");\r\ncomponentHooks.add(\"onComponentWillUpdate\");\r\ncomponentHooks.add(\"onComponentDidUpdate\");\r\n/**\r\n * Creates virtual node\r\n * @param {string|Function|Component<any, any>} type Type of node\r\n * @param {object=} props Optional props for virtual node\r\n * @param {...{object}=} _children Optional children for virtual node\r\n * @returns {VNode} new virtual ndoe\r\n */\r\nfunction createElement(type, props) {\n    var _children = [], len = arguments.length - 2;\n    while ( len-- > 0 ) _children[ len ] = arguments[ len + 2 ];\n\r\n    if (isInvalid(type) || isObject(type)) {\r\n        throw new Error(\"Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.\");\r\n    }\r\n    var children = _children;\r\n    var ref = null;\r\n    var key = null;\r\n    var className = null;\r\n    var flags = 0;\r\n    var newProps;\r\n    if (_children) {\r\n        if (_children.length === 1) {\r\n            children = _children[0];\r\n        }\r\n        else if (_children.length === 0) {\r\n            children = void 0;\r\n        }\r\n    }\r\n    if (isString(type)) {\r\n        flags = inferno.getFlagsForElementVnode(type);\r\n        if (!isNullOrUndef(props)) {\r\n            newProps = {};\r\n            for (var prop in props) {\r\n                if (prop === \"className\" || prop === \"class\") {\r\n                    className = props[prop];\r\n                }\r\n                else if (prop === \"key\") {\r\n                    key = props.key;\r\n                }\r\n                else if (prop === \"children\" && isUndefined(children)) {\r\n                    children = props.children; // always favour children args, default to props\r\n                }\r\n                else if (prop === \"ref\") {\r\n                    ref = props.ref;\r\n                }\r\n                else {\r\n                    newProps[prop] = props[prop];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        flags = 16 /* ComponentUnknown */;\r\n        if (!isUndefined(children)) {\r\n            if (!props) {\r\n                props = {};\r\n            }\r\n            props.children = children;\r\n            children = null;\r\n        }\r\n        if (!isNullOrUndef(props)) {\r\n            newProps = {};\r\n            for (var prop$1 in props) {\r\n                if (componentHooks.has(prop$1)) {\r\n                    if (!ref) {\r\n                        ref = {};\r\n                    }\r\n                    ref[prop$1] = props[prop$1];\r\n                }\r\n                else if (prop$1 === \"key\") {\r\n                    key = props.key;\r\n                }\r\n                else {\r\n                    newProps[prop$1] = props[prop$1];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return inferno.createVNode(flags, type, className, children, newProps, key, ref);\r\n}\n\nexports['default'] = createElement;\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-create-element/dist/index.js","module.exports = require('./dist').default;\nmodule.exports.default = module.exports;\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-create-element/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar createElement = _interopDefault(require('inferno-create-element'));\nvar Component = _interopDefault(require('inferno-component'));\nvar Inferno = require('inferno');\nvar Inferno__default = _interopDefault(Inferno);\nrequire('path-to-regexp');\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== \"undefined\" && window.document);\r\nfunction toArray(children) {\r\n    return isArray(children) ? children : children ? [children] : children;\r\n}\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction warning(message) {\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(message);\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar emptyObject = {};\r\nfunction decode(val) {\r\n    return typeof val !== \"string\" ? val : decodeURIComponent(val);\r\n}\r\nfunction isEmpty(children) {\r\n    return (!children || !(isArray(children) ? children : Object.keys(children)).length);\r\n}\r\nfunction flatten(oldArray) {\r\n    var newArray = [];\r\n    flattenArray(oldArray, newArray);\r\n    return newArray;\r\n}\r\nfunction getURLString(location) {\r\n    return isString(location) ? location : location.pathname + location.search;\r\n}\r\n/**\r\n * Maps a querystring to an object\r\n * Supports arrays and utf-8 characters\r\n * @param search\r\n * @returns {any}\r\n */\r\nfunction mapSearchParams(search) {\r\n    if (search === \"\") {\r\n        return {};\r\n    }\r\n    // Create an object with no prototype\r\n    var map = Object.create(null);\r\n    var fragments = search.split(\"&\");\r\n    for (var i = 0, len = fragments.length; i < len; i++) {\r\n        var fragment = fragments[i];\r\n        var ref = fragment.split(\"=\").map(mapFragment).map(decodeURIComponent);\n        var k = ref[0];\n        var v = ref[1];\r\n        if (map[k]) {\r\n            map[k] = isArray(map[k]) ? map[k] : [map[k]];\r\n            map[k].push(v);\r\n        }\r\n        else {\r\n            map[k] = v;\r\n        }\r\n    }\r\n    return map;\r\n}\r\n/**\r\n * Gets the relevant part of the URL for matching\r\n * @param fullURL\r\n * @param partURL\r\n * @returns {string}\r\n */\r\nfunction toPartialURL(fullURL, partURL) {\r\n    if (fullURL.indexOf(partURL) === 0) {\r\n        return fullURL.substr(partURL.length);\r\n    }\r\n    return fullURL;\r\n}\r\n/**\r\n * Simulates ... operator by returning first argument\r\n * with the keys in the second argument excluded\r\n * @param _args\r\n * @param excluded\r\n * @returns {{}}\r\n */\r\nfunction rest(_args, excluded) {\r\n    var t = {};\r\n    for (var p in _args) {\r\n        if (excluded.indexOf(p) < 0) {\r\n            t[p] = _args[p];\r\n        }\r\n    }\r\n    return t;\r\n}\r\n/**\r\n * Sorts an array according to its `path` prop length\r\n * @param a\r\n * @param b\r\n * @returns {number}\r\n */\r\nfunction pathRankSort(a, b) {\r\n    var aAttr = a.props || emptyObject;\r\n    var bAttr = b.props || emptyObject;\r\n    var diff = rank(bAttr.path) - rank(aAttr.path);\r\n    return (diff ||\r\n        (bAttr.path && aAttr.path ? bAttr.path.length - aAttr.path.length : 0));\r\n}\r\n/**\r\n * Helper function for parsing querystring arrays\r\n */\r\nfunction mapFragment(p, isVal) {\r\n    return decodeURIComponent(isVal | 0 ? p : p.replace(\"[]\", \"\"));\r\n}\r\nfunction strip(url) {\r\n    return url.replace(/(^\\/+|\\/+$)/g, \"\");\r\n}\r\nfunction rank(url) {\n    if ( url === void 0 ) url = \"\";\n\r\n    return (strip(url).match(/\\/+/g) || \"\").length;\r\n}\r\nfunction flattenArray(oldArray, newArray) {\r\n    for (var i = 0, len = oldArray.length; i < len; i++) {\r\n        var item = oldArray[i];\r\n        if (isArray(item)) {\r\n            flattenArray(item, newArray);\r\n        }\r\n        else {\r\n            newArray.push(item);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar resolvedPromise = Promise.resolve();\r\nvar Route = (function (Component$$1) {\n    function Route(props, context) {\n        var this$1 = this;\n\r\n        Component$$1.call(this, props, context);\r\n        this._onComponentResolved = function (error, component) {\r\n            this$1.setState({\r\n                asyncComponent: component\r\n            });\r\n        };\r\n        this.state = {\r\n            asyncComponent: null\r\n        };\r\n    }\n\n    if ( Component$$1 ) Route.__proto__ = Component$$1;\n    Route.prototype = Object.create( Component$$1 && Component$$1.prototype );\n    Route.prototype.constructor = Route;\r\n    Route.prototype.componentWillMount = function componentWillMount () {\n        var this$1 = this;\n\r\n        var ref = this.props;\n        var onEnter = ref.onEnter;\r\n        var ref$1 = this.context;\n        var router = ref$1.router;\r\n        if (onEnter) {\r\n            resolvedPromise.then((function () {\r\n                onEnter({ props: this$1.props, router: router });\r\n            }));\r\n        }\r\n        var ref$2 = this.props;\n        var getComponent = ref$2.getComponent;\r\n        if (getComponent) {\r\n            resolvedPromise.then((function () {\r\n                getComponent({ props: this$1.props, router: router }, this$1._onComponentResolved);\r\n            }));\r\n        }\r\n    };\r\n    Route.prototype.onLeave = function onLeave (trigger) {\n        if ( trigger === void 0 ) trigger = false;\n\r\n        var ref = this.props;\n        var onLeave = ref.onLeave;\r\n        var ref$1 = this.context;\n        var router = ref$1.router;\r\n        if (onLeave && trigger) {\r\n            onLeave({ props: this.props, router: router });\r\n        }\r\n    };\r\n    Route.prototype.onEnter = function onEnter (nextProps) {\r\n        var onEnter = nextProps.onEnter;\r\n        var ref = this.context;\n        var router = ref.router;\r\n        if (this.props.path !== nextProps.path && onEnter) {\r\n            onEnter({ props: nextProps, router: router });\r\n        }\r\n    };\r\n    Route.prototype.getComponent = function getComponent (nextProps) {\r\n        var getComponent = nextProps.getComponent;\r\n        var ref = this.context;\n        var router = ref.router;\r\n        if (this.props.path !== nextProps.path && getComponent) {\r\n            getComponent({ props: nextProps, router: router }, this._onComponentResolved);\r\n        }\r\n    };\r\n    Route.prototype.componentWillUnmount = function componentWillUnmount () {\r\n        this.onLeave(true);\r\n    };\r\n    Route.prototype.componentWillReceiveProps = function componentWillReceiveProps (nextProps) {\r\n        this.getComponent(nextProps);\r\n        this.onEnter(nextProps);\r\n        this.onLeave(this.props.path !== nextProps.path);\r\n    };\r\n    Route.prototype.render = function render (_args) {\r\n        var component = _args.component;\n        var children = _args.children;\r\n        var props = rest(_args, [\r\n            \"component\",\r\n            \"children\",\r\n            \"path\",\r\n            \"getComponent\"\r\n        ]);\r\n        var ref = this.state;\n        var asyncComponent = ref.asyncComponent;\r\n        var resolvedComponent = component || asyncComponent;\r\n        if (!resolvedComponent) {\r\n            return !isArray(children) ? children : null;\r\n        }\r\n        return createElement(resolvedComponent, props, children);\r\n    };\n\n    return Route;\n}(Component));\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar handleIndexRoute = function (indexRouteNode) { return createElement(Route, indexRouteNode); };\r\nvar handleChildRoute = function (childRouteNode) { return handleRouteNode(childRouteNode); };\r\nvar handleChildRoutes = function (childRouteNodes) { return childRouteNodes.map(handleChildRoute); };\r\nfunction handleRouteNode(routeConfigNode) {\r\n    if (routeConfigNode.indexRoute && !routeConfigNode.childRoutes) {\r\n        return createElement(Route, routeConfigNode);\r\n    }\r\n    // create deep copy of config\r\n    var node = {};\r\n    for (var key in routeConfigNode) {\r\n        node[key] = routeConfigNode[key];\r\n    }\r\n    node.children = [];\r\n    // handle index route config\r\n    if (node.indexRoute) {\r\n        node.children.push(handleIndexRoute(node.indexRoute));\r\n        delete node.indexRoute;\r\n    }\r\n    // handle child routes config\r\n    if (node.childRoutes) {\r\n        var nodes = isArray(node.childRoutes)\r\n            ? node.childRoutes\r\n            : [node.childRoutes];\r\n        (ref = node.children).push.apply(ref, handleChildRoutes(nodes));\r\n        delete node.childRoutes;\r\n    }\r\n    // cleanup to match native rendered result\r\n    if (node.children.length === 1) {\r\n        node.children = node.children[0];\r\n    }\r\n    if ((isArray(node.children) && node.children.length === 0) ||\r\n        (!isArray(node.children) && Object.keys(node.children).length === 0)) {\r\n        delete node.children;\r\n    }\r\n    return createElement(Route, node);\n    var ref;\r\n}\r\nvar createRoutes = function (routeConfig) { return routeConfig.map(handleRouteNode); };\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\n\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) { if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        { t[p] = s[p]; } }\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        { for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) { if (e.indexOf(p[i]) < 0)\r\n            { t[p[i]] = s[p[i]]; } } }\r\n    return t;\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nfunction renderLink(classNm, children, otherProps) {\r\n    return Inferno.createVNode(2 /* HtmlElement */, \"a\", classNm, children, otherProps);\r\n}\r\nfunction Link(props, ref) {\n    var router = ref.router;\n\r\n    var activeClassName = props.activeClassName;\n    var activeStyle = props.activeStyle;\n    var className = props.className;\n    var onClick = props.onClick;\n    var children = props.children;\n    var to = props.to;\n    var otherProps = __rest(props, [\"activeClassName\", \"activeStyle\", \"className\", \"onClick\", \"children\", \"to\"]);\r\n    var classNm;\r\n    if (className) {\r\n        classNm = className;\r\n    }\r\n    if (!router) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            warning(\"<Link/> component used outside of <Router/>. Fallback to <a> tag.\");\r\n        }\r\n        otherProps.href = to;\r\n        otherProps.onClick = onClick;\r\n        return renderLink(classNm, children, otherProps);\r\n    }\r\n    otherProps.href = isBrowser\r\n        ? router.createHref({ pathname: to })\r\n        : router.location.baseUrl ? router.location.baseUrl + to : to;\r\n    if (router.location.pathname === to) {\r\n        if (activeClassName) {\r\n            classNm = (className ? className + \" \" : \"\") + activeClassName;\r\n        }\r\n        if (activeStyle) {\r\n            otherProps.style = combineFrom(props.style, activeStyle);\r\n        }\r\n    }\r\n    otherProps.onclick = function navigate(e) {\r\n        if (e.button !== 0 || e.ctrlKey || e.altKey || e.metaKey || e.shiftKey) {\r\n            return;\r\n        }\r\n        e.preventDefault();\r\n        if (typeof onClick === \"function\") {\r\n            onClick(e);\r\n        }\r\n        router.push(to, e.target.textContent);\r\n    };\r\n    return renderLink(classNm, children, otherProps);\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nfunction IndexLink(props) {\r\n    props.to = \"/\";\r\n    return Inferno.createVNode(8 /* ComponentFunction */, Link, null, null, props);\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar IndexRoute = (function (Route$$1) {\n    function IndexRoute(props, context) {\r\n        Route$$1.call(this, props, context);\r\n        props.path = \"/\";\r\n    }\n\n    if ( Route$$1 ) IndexRoute.__proto__ = Route$$1;\n    IndexRoute.prototype = Object.create( Route$$1 && Route$$1.prototype );\n    IndexRoute.prototype.constructor = IndexRoute;\n\n    return IndexRoute;\n}(Route));\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar index$5 = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar index$2 = pathToRegexp$1;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var defaultDelimiter = options && options.delimiter || '/';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    var next = str[index];\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var modifier = res[6];\n    var asterisk = res[7];\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var partial = prefix != null && next != null && next !== prefix;\n    var repeat = modifier === '+' || modifier === '*';\n    var optional = modifier === '?' || modifier === '*';\n    var delimiter = res[2] || defaultDelimiter;\n    var pattern = capture || group;\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, (function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  }))\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, (function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  }))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$');\n    }\n  }\n\n  return function (obj, opts) {\n    var path = '';\n    var data = obj || {};\n    var options = opts || {};\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent;\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix;\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (index$5(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp$1(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!index$5(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = '(?:' + token.pattern + ')';\n\n      keys.push(token);\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = prefix + '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/');\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter;\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)';\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp$1 (path, keys, options) {\n  if (!index$5(keys)) {\n    options = /** @type {!Object} */ (keys || options);\n    keys = [];\n  }\n\n  options = options || {};\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (index$5(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\nindex$2.parse = parse_1;\nindex$2.compile = compile_1;\nindex$2.tokensToFunction = tokensToFunction_1;\nindex$2.tokensToRegExp = tokensToRegExp_1;\n\nvar index$4 = Object.freeze({\n\tdefault: index$2,\n\t__moduleExports: index$2,\n\tparse: parse_1,\n\tcompile: compile_1,\n\ttokensToFunction: tokensToFunction_1,\n\ttokensToRegExp: tokensToRegExp_1\n});\n\nvar pathToRegExp$1 = ( index$4 && index$2 ) || index$4;\n\nvar index$1 = createCommonjsModule((function (module) {\n/**\r\n * Expose `pathToRegexp` as ES6 module\r\n */\r\nmodule.exports = pathToRegExp$1;\r\nmodule.exports.parse = pathToRegExp$1.parse;\r\nmodule.exports.compile = pathToRegExp$1.compile;\r\nmodule.exports.tokensToFunction = pathToRegExp$1.tokensToFunction;\r\nmodule.exports.tokensToRegExp = pathToRegExp$1.tokensToRegExp;\r\nmodule.exports['default'] = module.exports;\n}));\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar cache = new Map();\r\n/**\r\n * Returns a node containing only the matched components\r\n * @param routes\r\n * @param currentURL\r\n * @returns {*}\r\n */\r\nfunction match(routes, currentURL) {\r\n    var location = getURLString(currentURL);\r\n    return matchRoutes(toArray(routes), encodeURI(location), \"/\");\r\n}\r\n/**\r\n * Go through every route and create a new node\r\n * with the matched components\r\n * @param _routes\r\n * @param currentURL\r\n * @param parentPath\r\n * @param redirect\r\n * @returns {object}\r\n */\r\nfunction matchRoutes(_routes, currentURL, parentPath, redirect) {\n    if ( currentURL === void 0 ) currentURL = \"/\";\n    if ( parentPath === void 0 ) parentPath = \"/\";\n    if ( redirect === void 0 ) redirect = false;\n\r\n    var routes = isArray(_routes) ? flatten(_routes) : toArray(_routes);\r\n    var ref = currentURL.split(\"?\");\n    var pathToMatch = ref[0]; if ( pathToMatch === void 0 ) pathToMatch = \"/\";\n    var search = ref[1]; if ( search === void 0 ) search = \"\";\r\n    var params = mapSearchParams(search);\r\n    routes.sort(pathRankSort);\r\n    for (var i = 0, len = routes.length; i < len; i++) {\r\n        var route = routes[i];\r\n        var props = route.props || emptyObject;\r\n        var routePath = props.from || props.path || \"/\";\r\n        var location = parentPath + toPartialURL(routePath, parentPath).replace(/\\/\\//g, \"/\");\r\n        var isLast = isEmpty(props.children);\r\n        var matchBase = matchPath(isLast, location, pathToMatch);\r\n        if (matchBase) {\r\n            var children = props.children;\r\n            if (props.from) {\r\n                redirect = props.to;\r\n            }\r\n            if (children) {\r\n                var matchChild = matchRoutes(children, currentURL, location, redirect);\r\n                if (matchChild) {\r\n                    if (matchChild.redirect) {\r\n                        return {\r\n                            location: location,\r\n                            redirect: matchChild.redirect\r\n                        };\r\n                    }\r\n                    children = matchChild.matched;\r\n                    var childProps = children.props.params;\r\n                    for (var key in childProps) {\r\n                        params[key] = childProps[key];\r\n                    }\r\n                }\r\n                else {\r\n                    children = null;\r\n                }\r\n            }\r\n            var matched = Inferno__default.cloneVNode(route, {\r\n                children: children,\r\n                params: combineFrom(params, matchBase.params)\r\n            });\r\n            return {\r\n                location: location,\r\n                matched: matched,\r\n                redirect: redirect\r\n            };\r\n        }\r\n    }\r\n}\r\n/**\r\n * Converts path to a regex, if a match is found then we extract params from it\r\n * @param end\r\n * @param routePath\r\n * @param pathToMatch\r\n * @returns {any}\r\n */\r\nfunction matchPath(end, routePath, pathToMatch) {\r\n    var key = routePath + \"|\" + end;\r\n    var regexp = cache.get(key);\r\n    if (regexp === void 0) {\r\n        var keys = [];\r\n        regexp = { pattern: index$1(routePath, keys, { end: end }), keys: keys };\r\n        cache.set(key, regexp);\r\n    }\r\n    var m = regexp.pattern.exec(pathToMatch);\r\n    if (!m) {\r\n        return null;\r\n    }\r\n    var path = m[0];\r\n    var params = Object.create(null);\r\n    for (var i = 1, len = m.length; i < len; i += 1) {\r\n        params[regexp.keys[i - 1].name] = decode(m[i]);\r\n    }\r\n    return {\r\n        params: params,\r\n        path: path === \"\" ? \"/\" : path\r\n    };\r\n}\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar Redirect = (function (Route$$1) {\n    function Redirect(props, context) {\r\n        Route$$1.call(this, props, context);\r\n        if (!props.to) {\r\n            props.to = \"/\";\r\n        }\r\n    }\n\n    if ( Route$$1 ) Redirect.__proto__ = Route$$1;\n    Redirect.prototype = Object.create( Route$$1 && Route$$1.prototype );\n    Redirect.prototype.constructor = Redirect;\n\n    return Redirect;\n}(Route));\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar RouterContext = (function (Component$$1) {\n    function RouterContext(props, context) {\r\n        Component$$1.call(this, props, context);\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (!props.location || !props.matched) {\r\n                throw new TypeError('\"inferno-router\" requires a \"location\" and \"matched\" props passed');\r\n            }\r\n        }\r\n    }\n\n    if ( Component$$1 ) RouterContext.__proto__ = Component$$1;\n    RouterContext.prototype = Object.create( Component$$1 && Component$$1.prototype );\n    RouterContext.prototype.constructor = RouterContext;\r\n    RouterContext.prototype.getChildContext = function getChildContext () {\r\n        return {\r\n            router: this.props.router || {\r\n                location: {\r\n                    baseUrl: this.props.baseUrl,\r\n                    pathname: this.props.location\r\n                }\r\n            }\r\n        };\r\n    };\r\n    RouterContext.prototype.render = function render (props) {\r\n        return props.matched;\r\n    };\n\n    return RouterContext;\n}(Component));\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nfunction createrRouter(history) {\r\n    if (!history) {\r\n        throw new TypeError('Inferno: Error \"inferno-router\" requires a history prop passed');\r\n    }\r\n    return {\r\n        createHref: history.createHref,\r\n        listen: history.listen,\r\n        push: history.push,\r\n        replace: history.replace,\r\n        isActive: function isActive(url) {\r\n            return matchPath(true, url, this.url);\r\n        },\r\n        get location() {\r\n            return history.location.pathname !== \"blank\"\r\n                ? history.location\r\n                : {\r\n                    pathname: \"/\",\r\n                    search: \"\"\r\n                };\r\n        },\r\n        get url() {\r\n            return this.location.pathname + this.location.search;\r\n        }\r\n    };\r\n}\r\nvar Router = (function (Component$$1) {\n    function Router(props, context) {\r\n        Component$$1.call(this, props, context);\r\n        this.router = createrRouter(props.history);\r\n        this.state = {\r\n            url: props.url || this.router.url\r\n        };\r\n    }\n\n    if ( Component$$1 ) Router.__proto__ = Component$$1;\n    Router.prototype = Object.create( Component$$1 && Component$$1.prototype );\n    Router.prototype.constructor = Router;\r\n    Router.prototype.componentWillMount = function componentWillMount () {\n        var this$1 = this;\n\r\n        if (this.router) {\r\n            this.unlisten = this.router.listen((function () {\r\n                this$1.routeTo(this$1.router.url);\r\n            }));\r\n        }\r\n    };\r\n    Router.prototype.componentWillReceiveProps = function componentWillReceiveProps (nextProps) {\n        var this$1 = this;\n\r\n        this.setState({ url: nextProps.url }, this.props.onUpdate ? function () { return this$1.props.onUpdate(); } : void 0);\r\n    };\r\n    Router.prototype.componentWillUnmount = function componentWillUnmount () {\r\n        if (this.unlisten) {\r\n            this.unlisten();\r\n        }\r\n    };\r\n    Router.prototype.routeTo = function routeTo (url) {\n        var this$1 = this;\n\r\n        this.setState({ url: url }, this.props.onUpdate ? function () { return this$1.props.onUpdate(); } : void 0);\r\n    };\r\n    Router.prototype.render = function render (props) {\n        var this$1 = this;\n\r\n        var hit = match(props.children, this.state.url);\r\n        if (hit.redirect) {\r\n            setTimeout((function () {\r\n                this$1.router.replace(hit.redirect);\r\n            }), 0);\r\n            return null;\r\n        }\r\n        return Inferno.createVNode(4 /* ComponentClass */, RouterContext, null, null, {\r\n            location: this.state.url,\r\n            matched: hit.matched,\r\n            router: this.router\r\n        });\r\n    };\n\n    return Router;\n}(Component));\n\n/**\r\n * @module Inferno-Router\r\n */ /** TypeDoc Comment */\r\nvar index = {\r\n    IndexLink: IndexLink,\r\n    IndexRedirect: Redirect,\r\n    IndexRoute: IndexRoute,\r\n    Link: Link,\r\n    Redirect: Redirect,\r\n    Route: Route,\r\n    Router: Router,\r\n    RouterContext: RouterContext,\r\n    createRoutes: createRoutes,\r\n    match: match\r\n};\n\nexports.IndexLink = IndexLink;\nexports.IndexRedirect = Redirect;\nexports.IndexRoute = IndexRoute;\nexports.Link = Link;\nexports.Redirect = Redirect;\nexports.Route = Route;\nexports.Router = Router;\nexports.RouterContext = RouterContext;\nexports.createRoutes = createRoutes;\nexports.match = match;\nexports['default'] = index;\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-router/dist/index.js","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-router/~/isarray/index.js","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno-router/~/path-to-regexp/index.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\r\n * @module Inferno-Shared\r\n */ /** TypeDoc Comment */\r\nvar NO_OP = \"$NO_OP\";\r\nvar ERROR_MSG = \"a runtime error occured! Use Inferno in development environment to find the error.\";\r\n// This should be boolean and not reference to window.document\r\nvar isBrowser = !!(typeof window !== \"undefined\" && window.document);\r\n// this is MUCH faster than .constructor === Array and instanceof Array\r\n// in Node 7 and the later versions of V8, slower in older versions though\r\nvar isArray = Array.isArray;\r\nfunction isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\nfunction isStringOrNumber(o) {\r\n    var type = typeof o;\r\n    return type === \"string\" || type === \"number\";\r\n}\r\nfunction isNullOrUndef(o) {\r\n    return isUndefined(o) || isNull(o);\r\n}\r\nfunction isInvalid(o) {\r\n    return isNull(o) || o === false || isTrue(o) || isUndefined(o);\r\n}\r\nfunction isFunction(o) {\r\n    return typeof o === \"function\";\r\n}\r\nfunction isString(o) {\r\n    return typeof o === \"string\";\r\n}\r\nfunction isNumber(o) {\r\n    return typeof o === \"number\";\r\n}\r\nfunction isNull(o) {\r\n    return o === null;\r\n}\r\nfunction isTrue(o) {\r\n    return o === true;\r\n}\r\nfunction isUndefined(o) {\r\n    return o === void 0;\r\n}\r\nfunction isObject(o) {\r\n    return typeof o === \"object\";\r\n}\r\nfunction throwError(message) {\r\n    if (!message) {\r\n        message = ERROR_MSG;\r\n    }\r\n    throw new Error((\"Inferno Error: \" + message));\r\n}\r\nfunction warning(message) {\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(message);\r\n}\r\nfunction combineFrom(first, second) {\r\n    var out = {};\r\n    if (first) {\r\n        for (var key in first) {\r\n            out[key] = first[key];\r\n        }\r\n    }\r\n    if (second) {\r\n        for (var key$1 in second) {\r\n            out[key$1] = second[key$1];\r\n        }\r\n    }\r\n    return out;\r\n}\r\nfunction Lifecycle() {\r\n    this.listeners = [];\r\n}\r\nLifecycle.prototype.addListener = function addListener(callback) {\r\n    this.listeners.push(callback);\r\n};\r\nLifecycle.prototype.trigger = function trigger() {\r\n    var listeners = this.listeners;\r\n    var listener;\r\n    // We need to remove current listener from array when calling it, because more listeners might be added\r\n    while ((listener = listeners.shift())) {\r\n        listener();\r\n    }\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar options = {\r\n    afterMount: null,\r\n    afterRender: null,\r\n    afterUpdate: null,\r\n    beforeRender: null,\r\n    beforeUnmount: null,\r\n    createVNode: null,\r\n    findDOMNodeEnabled: false,\r\n    recyclingEnabled: false,\r\n    roots: []\r\n};\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar xlinkNS = \"http://www.w3.org/1999/xlink\";\r\nvar xmlNS = \"http://www.w3.org/XML/1998/namespace\";\r\nvar svgNS = \"http://www.w3.org/2000/svg\";\r\nvar strictProps = new Set();\r\nstrictProps.add(\"volume\");\r\nstrictProps.add(\"defaultChecked\");\r\nvar booleanProps = new Set();\r\nbooleanProps.add(\"muted\");\r\nbooleanProps.add(\"scoped\");\r\nbooleanProps.add(\"loop\");\r\nbooleanProps.add(\"open\");\r\nbooleanProps.add(\"checked\");\r\nbooleanProps.add(\"default\");\r\nbooleanProps.add(\"capture\");\r\nbooleanProps.add(\"disabled\");\r\nbooleanProps.add(\"readOnly\");\r\nbooleanProps.add(\"required\");\r\nbooleanProps.add(\"autoplay\");\r\nbooleanProps.add(\"controls\");\r\nbooleanProps.add(\"seamless\");\r\nbooleanProps.add(\"reversed\");\r\nbooleanProps.add(\"allowfullscreen\");\r\nbooleanProps.add(\"novalidate\");\r\nbooleanProps.add(\"hidden\");\r\nbooleanProps.add(\"autoFocus\");\r\nbooleanProps.add(\"selected\");\r\nvar namespaces = new Map();\r\nnamespaces.set(\"xlink:href\", xlinkNS);\r\nnamespaces.set(\"xlink:arcrole\", xlinkNS);\r\nnamespaces.set(\"xlink:actuate\", xlinkNS);\r\nnamespaces.set(\"xlink:show\", xlinkNS);\r\nnamespaces.set(\"xlink:role\", xlinkNS);\r\nnamespaces.set(\"xlink:title\", xlinkNS);\r\nnamespaces.set(\"xlink:type\", xlinkNS);\r\nnamespaces.set(\"xml:base\", xmlNS);\r\nnamespaces.set(\"xml:lang\", xmlNS);\r\nnamespaces.set(\"xml:space\", xmlNS);\r\nvar isUnitlessNumber = new Set();\r\nisUnitlessNumber.add(\"animationIterationCount\");\r\nisUnitlessNumber.add(\"borderImageOutset\");\r\nisUnitlessNumber.add(\"borderImageSlice\");\r\nisUnitlessNumber.add(\"borderImageWidth\");\r\nisUnitlessNumber.add(\"boxFlex\");\r\nisUnitlessNumber.add(\"boxFlexGroup\");\r\nisUnitlessNumber.add(\"boxOrdinalGroup\");\r\nisUnitlessNumber.add(\"columnCount\");\r\nisUnitlessNumber.add(\"flex\");\r\nisUnitlessNumber.add(\"flexGrow\");\r\nisUnitlessNumber.add(\"flexPositive\");\r\nisUnitlessNumber.add(\"flexShrink\");\r\nisUnitlessNumber.add(\"flexNegative\");\r\nisUnitlessNumber.add(\"flexOrder\");\r\nisUnitlessNumber.add(\"gridRow\");\r\nisUnitlessNumber.add(\"gridColumn\");\r\nisUnitlessNumber.add(\"fontWeight\");\r\nisUnitlessNumber.add(\"lineClamp\");\r\nisUnitlessNumber.add(\"lineHeight\");\r\nisUnitlessNumber.add(\"opacity\");\r\nisUnitlessNumber.add(\"order\");\r\nisUnitlessNumber.add(\"orphans\");\r\nisUnitlessNumber.add(\"tabSize\");\r\nisUnitlessNumber.add(\"widows\");\r\nisUnitlessNumber.add(\"zIndex\");\r\nisUnitlessNumber.add(\"zoom\");\r\nisUnitlessNumber.add(\"fillOpacity\");\r\nisUnitlessNumber.add(\"floodOpacity\");\r\nisUnitlessNumber.add(\"stopOpacity\");\r\nisUnitlessNumber.add(\"strokeDasharray\");\r\nisUnitlessNumber.add(\"strokeDashoffset\");\r\nisUnitlessNumber.add(\"strokeMiterlimit\");\r\nisUnitlessNumber.add(\"strokeOpacity\");\r\nisUnitlessNumber.add(\"strokeWidth\");\r\nvar skipProps = new Set();\r\nskipProps.add(\"children\");\r\nskipProps.add(\"childrenType\");\r\nskipProps.add(\"defaultValue\");\r\nskipProps.add(\"ref\");\r\nskipProps.add(\"key\");\r\nskipProps.add(\"checked\");\r\nskipProps.add(\"multiple\");\r\nvar delegatedEvents = new Set();\r\ndelegatedEvents.add(\"onClick\");\r\ndelegatedEvents.add(\"onMouseDown\");\r\ndelegatedEvents.add(\"onMouseUp\");\r\ndelegatedEvents.add(\"onMouseMove\");\r\ndelegatedEvents.add(\"onSubmit\");\r\ndelegatedEvents.add(\"onDblClick\");\r\ndelegatedEvents.add(\"onKeyDown\");\r\ndelegatedEvents.add(\"onKeyUp\");\r\ndelegatedEvents.add(\"onKeyPress\");\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar isiOS = isBrowser &&\r\n    !!navigator.platform &&\r\n    /iPad|iPhone|iPod/.test(navigator.platform);\r\nvar delegatedEvents$1 = new Map();\r\nfunction handleEvent(name, lastEvent, nextEvent, dom) {\r\n    var delegatedRoots = delegatedEvents$1.get(name);\r\n    if (nextEvent) {\r\n        if (!delegatedRoots) {\r\n            delegatedRoots = { items: new Map(), docEvent: null };\r\n            delegatedRoots.docEvent = attachEventToDocument(name, delegatedRoots);\r\n            delegatedEvents$1.set(name, delegatedRoots);\r\n        }\r\n        if (!lastEvent) {\r\n            if (isiOS && name === \"onClick\") {\r\n                trapClickOnNonInteractiveElement(dom);\r\n            }\r\n        }\r\n        delegatedRoots.items.set(dom, nextEvent);\r\n    }\r\n    else if (delegatedRoots) {\r\n        var items = delegatedRoots.items;\r\n        if (items.delete(dom)) {\r\n            // If any items were deleted, check if listener need to be removed\r\n            if (items.size === 0) {\r\n                document.removeEventListener(normalizeEventName(name), delegatedRoots.docEvent);\r\n                delegatedEvents$1.delete(name);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispatchEvent(event, target, items, count, isClick, eventData) {\r\n    var eventsToTrigger = items.get(target);\r\n    if (eventsToTrigger) {\r\n        count--;\r\n        // linkEvent object\r\n        eventData.dom = target;\r\n        if (eventsToTrigger.event) {\r\n            eventsToTrigger.event(eventsToTrigger.data, event);\r\n        }\r\n        else {\r\n            eventsToTrigger(event);\r\n        }\r\n        if (event.cancelBubble) {\r\n            return;\r\n        }\r\n    }\r\n    if (count > 0) {\r\n        var parentDom = target.parentNode;\r\n        // Html Nodes can be nested fe: span inside button in that scenario browser does not handle disabled attribute on parent,\r\n        // because the event listener is on document.body\r\n        // Don't process clicks on disabled elements\r\n        if (parentDom === null ||\r\n            (isClick && parentDom.nodeType === 1 && parentDom.disabled)) {\r\n            return;\r\n        }\r\n        dispatchEvent(event, parentDom, items, count, isClick, eventData);\r\n    }\r\n}\r\nfunction normalizeEventName(name) {\r\n    return name.substr(2).toLowerCase();\r\n}\r\nfunction stopPropagation() {\r\n    this.cancelBubble = true;\r\n    this.stopImmediatePropagation();\r\n}\r\nfunction attachEventToDocument(name, delegatedRoots) {\r\n    var docEvent = function (event) {\r\n        var count = delegatedRoots.items.size;\r\n        if (count > 0) {\r\n            event.stopPropagation = stopPropagation;\r\n            // Event data needs to be object to save reference to currentTarget getter\r\n            var eventData = {\r\n                dom: document\r\n            };\r\n            try {\r\n                Object.defineProperty(event, \"currentTarget\", {\r\n                    configurable: true,\r\n                    get: function get() {\r\n                        return eventData.dom;\r\n                    }\r\n                });\r\n            }\r\n            catch (e) {\r\n                /* safari7 and phantomJS will crash */\r\n            }\r\n            dispatchEvent(event, event.target, delegatedRoots.items, count, event.type === \"click\", eventData);\r\n        }\r\n    };\r\n    document.addEventListener(normalizeEventName(name), docEvent);\r\n    return docEvent;\r\n}\r\n// tslint:disable-next-line:no-empty\r\nfunction emptyFn() { }\r\nfunction trapClickOnNonInteractiveElement(dom) {\r\n    // Mobile Safari does not fire properly bubble click events on\r\n    // non-interactive elements, which means delegated click listeners do not\r\n    // fire. The workaround for this bug involves attaching an empty click\r\n    // listener on the target node.\r\n    // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html\r\n    // Just set it using the onclick property so that we don't have to manage any\r\n    // bookkeeping for it. Not sure if we need to clear it when the listener is\r\n    // removed.\r\n    // TODO: Only do this for the relevant Safaris maybe?\r\n    dom.onclick = emptyFn;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction isCheckedType(type) {\r\n    return type === \"checkbox\" || type === \"radio\";\r\n}\r\nfunction onTextInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue(newProps, dom);\r\n    }\r\n}\r\nfunction wrappedOnChange(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onCheckboxChange(e) {\r\n    e.stopPropagation(); // This click should not propagate its for internal use\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    if (props.onClick) {\r\n        var event = props.onClick;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onclick) {\r\n        props.onclick(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    applyValue(newProps, dom);\r\n}\r\nfunction processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue(nextPropsOrEmpty, dom);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            if (isCheckedType(nextPropsOrEmpty.type)) {\r\n                dom.onclick = onCheckboxChange;\r\n                dom.onclick.wrapped = true;\r\n            }\r\n            else {\r\n                dom.oninput = onTextInputChange;\r\n                dom.oninput.wrapped = true;\r\n            }\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue(nextPropsOrEmpty, dom) {\r\n    var type = nextPropsOrEmpty.type;\r\n    var value = nextPropsOrEmpty.value;\r\n    var checked = nextPropsOrEmpty.checked;\r\n    var multiple = nextPropsOrEmpty.multiple;\r\n    var defaultValue = nextPropsOrEmpty.defaultValue;\r\n    var hasValue = !isNullOrUndef(value);\r\n    if (type && type !== dom.type) {\r\n        dom.setAttribute(\"type\", type);\r\n    }\r\n    if (multiple && multiple !== dom.multiple) {\r\n        dom.multiple = multiple;\r\n    }\r\n    if (!isNullOrUndef(defaultValue) && !hasValue) {\r\n        dom.defaultValue = defaultValue + \"\";\r\n    }\r\n    if (isCheckedType(type)) {\r\n        if (hasValue) {\r\n            dom.value = value;\r\n        }\r\n        if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n    else {\r\n        if (hasValue && dom.value !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n        else if (!isNullOrUndef(checked)) {\r\n            dom.checked = checked;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction updateChildOptionGroup(vNode, value) {\r\n    var type = vNode.type;\r\n    if (type === \"optgroup\") {\r\n        var children = vNode.children;\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOption(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOption(children, value);\r\n        }\r\n    }\r\n    else {\r\n        updateChildOption(vNode, value);\r\n    }\r\n}\r\nfunction updateChildOption(vNode, value) {\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    // we do this as multiple may have changed\r\n    dom.value = props.value;\r\n    if ((isArray(value) && value.indexOf(props.value) !== -1) ||\r\n        props.value === value) {\r\n        dom.selected = true;\r\n    }\r\n    else if (!isNullOrUndef(value) || !isNullOrUndef(props.selected)) {\r\n        dom.selected = props.selected || false;\r\n    }\r\n}\r\nfunction onSelectChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var dom = vNode.dom;\r\n    var previousValue = props.value;\r\n    if (props.onChange) {\r\n        var event = props.onChange;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.onchange) {\r\n        props.onchange(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$1(newVNode, dom, newProps, false);\r\n    }\r\n}\r\nfunction processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$1(vNode, dom, nextPropsOrEmpty, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.onchange = onSelectChange;\r\n            dom.onchange.wrapped = true;\r\n        }\r\n    }\r\n}\r\nfunction applyValue$1(vNode, dom, nextPropsOrEmpty, mounting) {\r\n    if (nextPropsOrEmpty.multiple !== dom.multiple) {\r\n        dom.multiple = nextPropsOrEmpty.multiple;\r\n    }\r\n    var children = vNode.children;\r\n    if (!isInvalid(children)) {\r\n        var value = nextPropsOrEmpty.value;\r\n        if (mounting && isNullOrUndef(value)) {\r\n            value = nextPropsOrEmpty.defaultValue;\r\n        }\r\n        if (isArray(children)) {\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                updateChildOptionGroup(children[i], value);\r\n            }\r\n        }\r\n        else if (isVNode(children)) {\r\n            updateChildOptionGroup(children, value);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction wrappedOnChange$1(e) {\r\n    var props = this.vNode.props || EMPTY_OBJ;\r\n    var event = props.onChange;\r\n    if (event.event) {\r\n        event.event(event.data, e);\r\n    }\r\n    else {\r\n        event(e);\r\n    }\r\n}\r\nfunction onTextareaInputChange(e) {\r\n    var vNode = this.vNode;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var previousValue = props.value;\r\n    if (props.onInput) {\r\n        var event = props.onInput;\r\n        if (event.event) {\r\n            event.event(event.data, e);\r\n        }\r\n        else {\r\n            event(e);\r\n        }\r\n    }\r\n    else if (props.oninput) {\r\n        props.oninput(e);\r\n    }\r\n    // the user may have updated the vNode from the above onInput events syncronously\r\n    // so we need to get it from the context of `this` again\r\n    var newVNode = this.vNode;\r\n    var newProps = newVNode.props || EMPTY_OBJ;\r\n    // If render is going async there is no value change yet, it will come back to process input soon\r\n    if (previousValue !== newProps.value) {\r\n        // When this happens we need to store current cursor position and restore it, to avoid jumping\r\n        applyValue$2(newVNode, vNode.dom, false);\r\n    }\r\n}\r\nfunction processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    applyValue$2(nextPropsOrEmpty, dom, mounting);\r\n    if (isControlled) {\r\n        dom.vNode = vNode; // TODO: Remove this when implementing Fiber's\r\n        if (mounting) {\r\n            dom.oninput = onTextareaInputChange;\r\n            dom.oninput.wrapped = true;\r\n            if (nextPropsOrEmpty.onChange) {\r\n                dom.onchange = wrappedOnChange$1;\r\n                dom.onchange.wrapped = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction applyValue$2(nextPropsOrEmpty, dom, mounting) {\r\n    var value = nextPropsOrEmpty.value;\r\n    var domValue = dom.value;\r\n    if (isNullOrUndef(value)) {\r\n        if (mounting) {\r\n            var defaultValue = nextPropsOrEmpty.defaultValue;\r\n            if (!isNullOrUndef(defaultValue)) {\r\n                if (defaultValue !== domValue) {\r\n                    dom.defaultValue = defaultValue;\r\n                    dom.value = defaultValue;\r\n                }\r\n            }\r\n            else if (domValue !== \"\") {\r\n                dom.defaultValue = \"\";\r\n                dom.value = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        /* There is value so keep it controlled */\r\n        if (domValue !== value) {\r\n            dom.defaultValue = value;\r\n            dom.value = value;\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * There is currently no support for switching same input between controlled and nonControlled\r\n * If that ever becomes a real issue, then re design controlled elements\r\n * Currently user must choose either controlled or non-controlled and stick with that\r\n */\r\nfunction processElement(flags, vNode, dom, nextPropsOrEmpty, mounting, isControlled) {\r\n    if (flags & 512 /* InputElement */) {\r\n        processInput(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    if (flags & 2048 /* SelectElement */) {\r\n        processSelect(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n    if (flags & 1024 /* TextareaElement */) {\r\n        processTextarea(vNode, dom, nextPropsOrEmpty, mounting, isControlled);\r\n    }\r\n}\r\nfunction isControlledFormElement(nextPropsOrEmpty) {\r\n    return nextPropsOrEmpty.type && isCheckedType(nextPropsOrEmpty.type)\r\n        ? !isNullOrUndef(nextPropsOrEmpty.checked)\r\n        : !isNullOrUndef(nextPropsOrEmpty.value);\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction normalizeChildNodes(parentDom) {\r\n    var dom = parentDom.firstChild;\r\n    while (dom) {\r\n        if (dom.nodeType === 8) {\r\n            if (dom.data === \"!\") {\r\n                var placeholder = document.createTextNode(\"\");\r\n                parentDom.replaceChild(placeholder, dom);\r\n                dom = dom.nextSibling;\r\n            }\r\n            else {\r\n                var lastDom = dom.previousSibling;\r\n                parentDom.removeChild(dom);\r\n                dom = lastDom || parentDom.firstChild;\r\n            }\r\n        }\r\n        else {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n}\r\nfunction hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {\r\n    var type = vNode.type;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    if (isClass) {\r\n        var _isSVG = dom.namespaceURI === svgNS;\r\n        var instance = createClassComponentInstance(vNode, type, props, context, _isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        hydrate(input, dom, lifecycle, instance._childContext, _isSVG);\r\n        vNode.dom = input.dom;\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false; // Mount finished allow going sync\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        hydrate(input$1, dom, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        vNode.dom = input$1.dom;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateElement(vNode, dom, lifecycle, context, isSVG) {\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var flags = vNode.flags;\r\n    var ref = vNode.ref;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== vNode.type) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            warning(\"Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty\");\r\n        }\r\n        var newDom = mountElement(vNode, null, lifecycle, context, isSVG);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        hydrateChildren(children, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (dom.firstChild !== null) {\r\n        dom.textContent = \"\"; // dom has content, but VNode has no children remove everything from DOM\r\n    }\r\n    if (props) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (!isNullOrUndef(className)) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    else {\r\n        if (dom.className !== \"\") {\r\n            dom.removeAttribute(\"class\");\r\n        }\r\n    }\r\n    if (ref) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    return dom;\r\n}\r\nfunction hydrateChildren(children, parentDom, lifecycle, context, isSVG) {\r\n    normalizeChildNodes(parentDom);\r\n    var dom = parentDom.firstChild;\r\n    if (isStringOrNumber(children)) {\r\n        if (!isNull(dom) && dom.nodeType === 3) {\r\n            if (dom.nodeValue !== children) {\r\n                dom.nodeValue = children;\r\n            }\r\n        }\r\n        else if (children === \"\") {\r\n            parentDom.appendChild(document.createTextNode(\"\"));\r\n        }\r\n        else {\r\n            parentDom.textContent = children;\r\n        }\r\n        if (!isNull(dom)) {\r\n            dom = dom.nextSibling;\r\n        }\r\n    }\r\n    else if (isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!isNull(child) && isObject(child)) {\r\n                if (!isNull(dom)) {\r\n                    var nextSibling = dom.nextSibling;\r\n                    hydrate(child, dom, lifecycle, context, isSVG);\r\n                    dom = nextSibling;\r\n                }\r\n                else {\r\n                    mount(child, parentDom, lifecycle, context, isSVG);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        // It's VNode\r\n        if (!isNull(dom)) {\r\n            hydrate(children, dom, lifecycle, context, isSVG);\r\n            dom = dom.nextSibling;\r\n        }\r\n        else {\r\n            mount(children, parentDom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    // clear any other DOM nodes, there should be only a single entry for the root\r\n    while (dom) {\r\n        var nextSibling$1 = dom.nextSibling;\r\n        parentDom.removeChild(dom);\r\n        dom = nextSibling$1;\r\n    }\r\n}\r\nfunction hydrateText(vNode, dom) {\r\n    if (dom.nodeType !== 3) {\r\n        var newDom = mountText(vNode, null);\r\n        vNode.dom = newDom;\r\n        replaceChild(dom.parentNode, newDom, dom);\r\n        return newDom;\r\n    }\r\n    var text = vNode.children;\r\n    if (dom.nodeValue !== text) {\r\n        dom.nodeValue = text;\r\n    }\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrateVoid(vNode, dom) {\r\n    vNode.dom = dom;\r\n    return dom;\r\n}\r\nfunction hydrate(vNode, dom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        hydrateComponent(vNode, dom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        hydrateElement(vNode, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        hydrateText(vNode, dom);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        hydrateVoid(vNode, dom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError((\"hydrate() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction hydrateRoot(input, parentDom, lifecycle) {\r\n    if (!isNull(parentDom)) {\r\n        var dom = parentDom.firstChild;\r\n        if (!isNull(dom)) {\r\n            hydrate(input, dom, lifecycle, EMPTY_OBJ, false);\r\n            dom = parentDom.firstChild;\r\n            // clear any other DOM nodes, there should be only a single entry for the root\r\n            while ((dom = dom.nextSibling)) {\r\n                parentDom.removeChild(dom);\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nvar componentPools = new Map();\r\nvar elementPools = new Map();\r\nfunction recycleElement(vNode, lifecycle, context, isSVG) {\r\n    var tag = vNode.type;\r\n    var pools = elementPools.get(tag);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                patchElement(recycledVNode, vNode, null, lifecycle, context, isSVG, true);\r\n                return vNode.dom;\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolElement(vNode) {\r\n    var tag = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = elementPools.get(tag);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        elementPools.set(tag, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\r\nfunction recycleComponent(vNode, lifecycle, context, isSVG) {\r\n    var type = vNode.type;\r\n    var pools = componentPools.get(type);\r\n    if (!isUndefined(pools)) {\r\n        var key = vNode.key;\r\n        var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);\r\n        if (!isUndefined(pool)) {\r\n            var recycledVNode = pool.pop();\r\n            if (!isUndefined(recycledVNode)) {\r\n                var flags = vNode.flags;\r\n                var failed = patchComponent(recycledVNode, vNode, null, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0, true);\r\n                if (!failed) {\r\n                    return vNode.dom;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction poolComponent(vNode) {\r\n    var hooks = vNode.ref;\r\n    var nonRecycleHooks = hooks &&\r\n        (hooks.onComponentWillMount ||\r\n            hooks.onComponentWillUnmount ||\r\n            hooks.onComponentDidMount ||\r\n            hooks.onComponentWillUpdate ||\r\n            hooks.onComponentDidUpdate);\r\n    if (nonRecycleHooks) {\r\n        return;\r\n    }\r\n    var type = vNode.type;\r\n    var key = vNode.key;\r\n    var pools = componentPools.get(type);\r\n    if (isUndefined(pools)) {\r\n        pools = {\r\n            keyed: new Map(),\r\n            nonKeyed: []\r\n        };\r\n        componentPools.set(type, pools);\r\n    }\r\n    if (isNull(key)) {\r\n        pools.nonKeyed.push(vNode);\r\n    }\r\n    else {\r\n        var pool = pools.keyed.get(key);\r\n        if (isUndefined(pool)) {\r\n            pool = [];\r\n            pools.keyed.set(key, pool);\r\n        }\r\n        pool.push(vNode);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction unmount(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var flags = vNode.flags;\r\n    if (flags & 28 /* Component */) {\r\n        unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling);\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling);\r\n    }\r\n    else if (flags & (1 /* Text */ | 4096 /* Void */)) {\r\n        unmountVoidOrText(vNode, parentDom);\r\n    }\r\n}\r\nfunction unmountVoidOrText(vNode, parentDom) {\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, vNode.dom);\r\n    }\r\n}\r\nfunction unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var instance = vNode.children;\r\n    var flags = vNode.flags;\r\n    var isStatefulComponent$$1 = flags & 4;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    var dom = vNode.dom;\r\n    if (!isRecycling) {\r\n        if (isStatefulComponent$$1) {\r\n            if (!instance._unmounted) {\r\n                if (!isNull(options.beforeUnmount)) {\r\n                    options.beforeUnmount(vNode);\r\n                }\r\n                if (!isUndefined(instance.componentWillUnmount)) {\r\n                    instance.componentWillUnmount();\r\n                }\r\n                if (ref && !isRecycling) {\r\n                    ref(null);\r\n                }\r\n                instance._unmounted = true;\r\n                if (options.findDOMNodeEnabled) {\r\n                    componentToDOMNodeMap.delete(instance);\r\n                }\r\n                unmount(instance._lastInput, null, instance._lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            if (!isNullOrUndef(ref)) {\r\n                if (!isNullOrUndef(ref.onComponentWillUnmount)) {\r\n                    ref.onComponentWillUnmount(dom, props);\r\n                }\r\n            }\r\n            unmount(instance, null, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    if (parentDom) {\r\n        var lastInput = instance._lastInput;\r\n        if (isNullOrUndef(lastInput)) {\r\n            lastInput = instance;\r\n        }\r\n        removeChild(parentDom, dom);\r\n    }\r\n    if (options.recyclingEnabled &&\r\n        !isStatefulComponent$$1 &&\r\n        (parentDom || canRecycle)) {\r\n        poolComponent(vNode);\r\n    }\r\n}\r\nfunction unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling) {\r\n    var dom = vNode.dom;\r\n    var ref = vNode.ref;\r\n    var props = vNode.props;\r\n    if (ref && !isRecycling) {\r\n        unmountRef(ref);\r\n    }\r\n    var children = vNode.children;\r\n    if (!isNullOrUndef(children)) {\r\n        unmountChildren$1(children, lifecycle, isRecycling);\r\n    }\r\n    if (!isNull(props)) {\r\n        for (var name in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            if (props[name] !== null && isAttrAnEvent(name)) {\r\n                patchEvent(name, props[name], null, dom);\r\n                // We need to set this null, because same props otherwise come back if SCU returns false and we are recyling\r\n                props[name] = null;\r\n            }\r\n        }\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        removeChild(parentDom, dom);\r\n    }\r\n    if (options.recyclingEnabled && (parentDom || canRecycle)) {\r\n        poolElement(vNode);\r\n    }\r\n}\r\nfunction unmountChildren$1(children, lifecycle, isRecycling) {\r\n    if (isArray(children)) {\r\n        for (var i = 0, len = children.length; i < len; i++) {\r\n            var child = children[i];\r\n            if (!isInvalid(child) && isObject(child)) {\r\n                unmount(child, null, lifecycle, false, isRecycling);\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(children)) {\r\n        unmount(children, null, lifecycle, false, isRecycling);\r\n    }\r\n}\r\nfunction unmountRef(ref) {\r\n    if (isFunction(ref)) {\r\n        ref(null);\r\n    }\r\n    else {\r\n        if (isInvalid(ref)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        throwError();\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// rather than use a Map, like we did before, we can use an array here\r\n// given there shouldn't be THAT many roots on the page, the difference\r\n// in performance is huge: https://esbench.com/bench/5802a691330ab09900a1a2da\r\nvar componentToDOMNodeMap = new Map();\r\nvar roots = options.roots;\r\n/**\r\n * When inferno.options.findDOMNOdeEnabled is true, this function will return DOM Node by component instance\r\n * @param ref Component instance\r\n * @returns {*|null} returns dom node\r\n */\r\nfunction findDOMNode(ref) {\r\n    if (!options.findDOMNodeEnabled) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"findDOMNode() has been disabled, use Inferno.options.findDOMNodeEnabled = true; enabled findDOMNode(). Warning this can significantly impact performance!\");\r\n        }\r\n        throwError();\r\n    }\r\n    var dom = ref && ref.nodeType ? ref : null;\r\n    return componentToDOMNodeMap.get(ref) || dom;\r\n}\r\nfunction getRoot(dom) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        var root = roots[i];\r\n        if (root.dom === dom) {\r\n            return root;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction setRoot(dom, input, lifecycle) {\r\n    var root = {\r\n        dom: dom,\r\n        input: input,\r\n        lifecycle: lifecycle\r\n    };\r\n    roots.push(root);\r\n    return root;\r\n}\r\nfunction removeRoot(root) {\r\n    for (var i = 0, len = roots.length; i < len; i++) {\r\n        if (roots[i] === root) {\r\n            roots.splice(i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    if (isBrowser && document.body === null) {\r\n        warning('Inferno warning: you cannot initialize inferno without \"document.body\". Wait on \"DOMContentLoaded\" event, add script to bottom of body, or use async/defer attributes on script tag.');\r\n    }\r\n}\r\nvar documentBody = isBrowser ? document.body : null;\r\n/**\r\n * Renders virtual node tree into parent node.\r\n * @param {VNode | null | string | number} input vNode to be rendered\r\n * @param parentDom DOM node which content will be replaced by virtual node\r\n * @returns {InfernoChildren} rendered virtual node\r\n */\r\nfunction render(input, parentDom) {\r\n    if (documentBody === parentDom) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n        }\r\n        throwError();\r\n    }\r\n    if (input === NO_OP) {\r\n        return;\r\n    }\r\n    var root = getRoot(parentDom);\r\n    if (isNull(root)) {\r\n        var lifecycle = new Lifecycle();\r\n        if (!isInvalid(input)) {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            if (!hydrateRoot(input, parentDom, lifecycle)) {\r\n                mount(input, parentDom, lifecycle, EMPTY_OBJ, false);\r\n            }\r\n            root = setRoot(parentDom, input, lifecycle);\r\n            lifecycle.trigger();\r\n        }\r\n    }\r\n    else {\r\n        var lifecycle$1 = root.lifecycle;\r\n        lifecycle$1.listeners = [];\r\n        if (isNullOrUndef(input)) {\r\n            unmount(root.input, parentDom, lifecycle$1, false, false);\r\n            removeRoot(root);\r\n        }\r\n        else {\r\n            if (input.dom) {\r\n                input = directClone(input);\r\n            }\r\n            patch(root.input, input, parentDom, lifecycle$1, EMPTY_OBJ, false, false);\r\n        }\r\n        root.input = input;\r\n        lifecycle$1.trigger();\r\n    }\r\n    if (root) {\r\n        var rootInput = root.input;\r\n        if (rootInput && rootInput.flags & 28 /* Component */) {\r\n            return rootInput.children;\r\n        }\r\n    }\r\n}\r\nfunction createRenderer(parentDom) {\r\n    return function renderer(lastInput, nextInput) {\r\n        if (!parentDom) {\r\n            parentDom = lastInput;\r\n        }\r\n        render(nextInput, parentDom);\r\n    };\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    if (lastVNode !== nextVNode) {\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        if (nextFlags & 28 /* Component */) {\r\n            var isClass = (nextFlags & 4 /* ComponentClass */) > 0;\r\n            if (lastFlags & 28 /* Component */) {\r\n                patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, isClass), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 3970 /* Element */) {\r\n            if (lastFlags & 3970 /* Element */) {\r\n                patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountElement(nextVNode, null, lifecycle, context, isSVG), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 1 /* Text */) {\r\n            if (lastFlags & 1 /* Text */) {\r\n                patchText(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountText(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else if (nextFlags & 4096 /* Void */) {\r\n            if (lastFlags & 4096 /* Void */) {\r\n                patchVoid(lastVNode, nextVNode);\r\n            }\r\n            else {\r\n                replaceVNode(parentDom, mountVoid(nextVNode, null), lastVNode, lifecycle, isRecycling);\r\n            }\r\n        }\r\n        else {\r\n            // Error case: mount new one replacing old one\r\n            replaceLastChildAndUnmount(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction unmountChildren(children, dom, lifecycle, isRecycling) {\r\n    if (isVNode(children)) {\r\n        unmount(children, dom, lifecycle, true, isRecycling);\r\n    }\r\n    else if (isArray(children)) {\r\n        removeAllChildren(dom, children, lifecycle, isRecycling);\r\n    }\r\n    else {\r\n        dom.textContent = \"\";\r\n    }\r\n}\r\nfunction patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    var nextTag = nextVNode.type;\r\n    var lastTag = lastVNode.type;\r\n    if (lastTag !== nextTag) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    else {\r\n        var dom = lastVNode.dom;\r\n        var lastProps = lastVNode.props;\r\n        var nextProps = nextVNode.props;\r\n        var lastChildren = lastVNode.children;\r\n        var nextChildren = nextVNode.children;\r\n        var lastFlags = lastVNode.flags;\r\n        var nextFlags = nextVNode.flags;\r\n        var nextRef = nextVNode.ref;\r\n        var lastClassName = lastVNode.className;\r\n        var nextClassName = nextVNode.className;\r\n        nextVNode.dom = dom;\r\n        isSVG = isSVG || (nextFlags & 128 /* SvgElement */) > 0;\r\n        if (lastChildren !== nextChildren) {\r\n            var childrenIsSVG = isSVG === true && nextVNode.type !== \"foreignObject\";\r\n            patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, childrenIsSVG, isRecycling);\r\n        }\r\n        // inlined patchProps  -- starts --\r\n        if (lastProps !== nextProps) {\r\n            var lastPropsOrEmpty = lastProps || EMPTY_OBJ;\r\n            var nextPropsOrEmpty = nextProps || EMPTY_OBJ;\r\n            var hasControlledValue = false;\r\n            if (nextPropsOrEmpty !== EMPTY_OBJ) {\r\n                var isFormElement = (nextFlags & 3584 /* FormElement */) > 0;\r\n                if (isFormElement) {\r\n                    hasControlledValue = isControlledFormElement(nextPropsOrEmpty);\r\n                }\r\n                for (var prop in nextPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    var nextValue = nextPropsOrEmpty[prop];\r\n                    var lastValue = lastPropsOrEmpty[prop];\r\n                    patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue);\r\n                }\r\n                if (isFormElement) {\r\n                    // When inferno is recycling form element, we need to process it like it would be mounting\r\n                    processElement(nextFlags, nextVNode, dom, nextPropsOrEmpty, isRecycling, hasControlledValue);\r\n                }\r\n            }\r\n            if (lastPropsOrEmpty !== EMPTY_OBJ) {\r\n                for (var prop$1 in lastPropsOrEmpty) {\r\n                    // do not add a hasOwnProperty check here, it affects performance\r\n                    if (isNullOrUndef(nextPropsOrEmpty[prop$1]) &&\r\n                        !isNullOrUndef(lastPropsOrEmpty[prop$1])) {\r\n                        removeProp(prop$1, lastPropsOrEmpty[prop$1], dom, nextFlags);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // inlined patchProps  -- ends --\r\n        if (lastClassName !== nextClassName) {\r\n            if (isNullOrUndef(nextClassName)) {\r\n                dom.removeAttribute(\"class\");\r\n            }\r\n            else {\r\n                if (isSVG) {\r\n                    dom.setAttribute(\"class\", nextClassName);\r\n                }\r\n                else {\r\n                    dom.className = nextClassName;\r\n                }\r\n            }\r\n        }\r\n        if (nextRef) {\r\n            if (lastVNode.ref !== nextRef || isRecycling) {\r\n                mountRef(dom, nextRef, lifecycle);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var patchArray = false;\r\n    var patchKeyed = false;\r\n    if (nextFlags & 64 /* HasNonKeyedChildren */) {\r\n        patchArray = true;\r\n    }\r\n    else if ((lastFlags & 32 /* HasKeyedChildren */) > 0 &&\r\n        (nextFlags & 32 /* HasKeyedChildren */) > 0) {\r\n        patchKeyed = true;\r\n        patchArray = true;\r\n    }\r\n    else if (isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n    }\r\n    else if (isInvalid(lastChildren)) {\r\n        if (isStringOrNumber(nextChildren)) {\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            if (isArray(nextChildren)) {\r\n                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n            else {\r\n                mount(nextChildren, dom, lifecycle, context, isSVG);\r\n            }\r\n        }\r\n    }\r\n    else if (isStringOrNumber(nextChildren)) {\r\n        if (isStringOrNumber(lastChildren)) {\r\n            updateTextContent(dom, nextChildren);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            setTextContent(dom, nextChildren);\r\n        }\r\n    }\r\n    else if (isArray(nextChildren)) {\r\n        if (isArray(lastChildren)) {\r\n            patchArray = true;\r\n            if (isKeyed(lastChildren, nextChildren)) {\r\n                patchKeyed = true;\r\n            }\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    else if (isArray(lastChildren)) {\r\n        removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n        mount(nextChildren, dom, lifecycle, context, isSVG);\r\n    }\r\n    else if (isVNode(nextChildren)) {\r\n        if (isVNode(lastChildren)) {\r\n            patch(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            unmountChildren(lastChildren, dom, lifecycle, isRecycling);\r\n            mount(nextChildren, dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n    if (patchArray) {\r\n        if (patchKeyed) {\r\n            patchKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n        else {\r\n            patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling) {\r\n    var lastType = lastVNode.type;\r\n    var nextType = nextVNode.type;\r\n    var lastKey = lastVNode.key;\r\n    var nextKey = nextVNode.key;\r\n    if (lastType !== nextType || lastKey !== nextKey) {\r\n        replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);\r\n        return false;\r\n    }\r\n    else {\r\n        var nextProps = nextVNode.props || EMPTY_OBJ;\r\n        if (isClass) {\r\n            var instance = lastVNode.children;\r\n            instance._updating = true;\r\n            if (instance._unmounted) {\r\n                if (isNull(parentDom)) {\r\n                    return true;\r\n                }\r\n                replaceChild(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, (nextVNode.flags & 4 /* ComponentClass */) > 0), lastVNode.dom);\r\n            }\r\n            else {\r\n                var hasComponentDidUpdate = !isUndefined(instance.componentDidUpdate);\r\n                var nextState = instance.state;\r\n                // When component has componentDidUpdate hook, we need to clone lastState or will be modified by reference during update\r\n                var lastState = hasComponentDidUpdate\r\n                    ? combineFrom(nextState, null)\r\n                    : nextState;\r\n                var lastProps = instance.props;\r\n                var childContext;\r\n                if (!isNullOrUndef(instance.getChildContext)) {\r\n                    childContext = instance.getChildContext();\r\n                }\r\n                nextVNode.children = instance;\r\n                instance._isSVG = isSVG;\r\n                if (isNullOrUndef(childContext)) {\r\n                    childContext = context;\r\n                }\r\n                else {\r\n                    childContext = combineFrom(context, childContext);\r\n                }\r\n                var lastInput = instance._lastInput;\r\n                var nextInput = instance._updateComponent(lastState, nextState, lastProps, nextProps, context, false, false);\r\n                var didUpdate = true;\r\n                instance._childContext = childContext;\r\n                if (isInvalid(nextInput)) {\r\n                    nextInput = createVoidVNode();\r\n                }\r\n                else if (nextInput === NO_OP) {\r\n                    nextInput = lastInput;\r\n                    didUpdate = false;\r\n                }\r\n                else if (isStringOrNumber(nextInput)) {\r\n                    nextInput = createTextVNode(nextInput, null);\r\n                }\r\n                else if (isArray(nextInput)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput)) {\r\n                    if (!isNull(nextInput.dom)) {\r\n                        nextInput = directClone(nextInput);\r\n                    }\r\n                }\r\n                if (nextInput.flags & 28 /* Component */) {\r\n                    nextInput.parentVNode = nextVNode;\r\n                }\r\n                else if (lastInput.flags & 28 /* Component */) {\r\n                    lastInput.parentVNode = nextVNode;\r\n                }\r\n                instance._lastInput = nextInput;\r\n                instance._vNode = nextVNode;\r\n                if (didUpdate) {\r\n                    patch(lastInput, nextInput, parentDom, lifecycle, childContext, isSVG, isRecycling);\r\n                    if (hasComponentDidUpdate && instance.componentDidUpdate) {\r\n                        instance.componentDidUpdate(lastProps, lastState);\r\n                    }\r\n                    if (!isNull(options.afterUpdate)) {\r\n                        options.afterUpdate(nextVNode);\r\n                    }\r\n                    if (options.findDOMNodeEnabled) {\r\n                        componentToDOMNodeMap.set(instance, nextInput.dom);\r\n                    }\r\n                }\r\n                nextVNode.dom = nextInput.dom;\r\n            }\r\n            instance._updating = false;\r\n        }\r\n        else {\r\n            var shouldUpdate = true;\r\n            var lastProps$1 = lastVNode.props;\r\n            var nextHooks = nextVNode.ref;\r\n            var nextHooksDefined = !isNullOrUndef(nextHooks);\r\n            var lastInput$1 = lastVNode.children;\r\n            var nextInput$1 = lastInput$1;\r\n            nextVNode.dom = lastVNode.dom;\r\n            nextVNode.children = lastInput$1;\r\n            if (lastKey !== nextKey) {\r\n                shouldUpdate = true;\r\n            }\r\n            else {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentShouldUpdate)) {\r\n                    shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps$1, nextProps);\r\n                }\r\n            }\r\n            if (shouldUpdate !== false) {\r\n                if (nextHooksDefined &&\r\n                    !isNullOrUndef(nextHooks.onComponentWillUpdate)) {\r\n                    nextHooks.onComponentWillUpdate(lastProps$1, nextProps);\r\n                }\r\n                nextInput$1 = nextType(nextProps, context);\r\n                if (isInvalid(nextInput$1)) {\r\n                    nextInput$1 = createVoidVNode();\r\n                }\r\n                else if (isStringOrNumber(nextInput$1) && nextInput$1 !== NO_OP) {\r\n                    nextInput$1 = createTextVNode(nextInput$1, null);\r\n                }\r\n                else if (isArray(nextInput$1)) {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n                    }\r\n                    throwError();\r\n                }\r\n                else if (isObject(nextInput$1)) {\r\n                    if (!isNull(nextInput$1.dom)) {\r\n                        nextInput$1 = directClone(nextInput$1);\r\n                    }\r\n                }\r\n                if (nextInput$1 !== NO_OP) {\r\n                    patch(lastInput$1, nextInput$1, parentDom, lifecycle, context, isSVG, isRecycling);\r\n                    nextVNode.children = nextInput$1;\r\n                    if (nextHooksDefined &&\r\n                        !isNullOrUndef(nextHooks.onComponentDidUpdate)) {\r\n                        nextHooks.onComponentDidUpdate(lastProps$1, nextProps);\r\n                    }\r\n                    nextVNode.dom = nextInput$1.dom;\r\n                }\r\n            }\r\n            if (nextInput$1.flags & 28 /* Component */) {\r\n                nextInput$1.parentVNode = nextVNode;\r\n            }\r\n            else if (lastInput$1.flags & 28 /* Component */) {\r\n                lastInput$1.parentVNode = nextVNode;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction patchText(lastVNode, nextVNode) {\r\n    var nextText = nextVNode.children;\r\n    var dom = lastVNode.dom;\r\n    nextVNode.dom = dom;\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\nfunction patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var lastChildrenLength = lastChildren.length;\r\n    var nextChildrenLength = nextChildren.length;\r\n    var commonLength = lastChildrenLength > nextChildrenLength\r\n        ? nextChildrenLength\r\n        : lastChildrenLength;\r\n    var i = 0;\r\n    for (; i < commonLength; i++) {\r\n        var nextChild = nextChildren[i];\r\n        if (nextChild.dom) {\r\n            nextChild = nextChildren[i] = directClone(nextChild);\r\n        }\r\n        patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG, isRecycling);\r\n    }\r\n    if (lastChildrenLength < nextChildrenLength) {\r\n        for (i = commonLength; i < nextChildrenLength; i++) {\r\n            var nextChild$1 = nextChildren[i];\r\n            if (nextChild$1.dom) {\r\n                nextChild$1 = nextChildren[i] = directClone(nextChild$1);\r\n            }\r\n            appendChild(dom, mount(nextChild$1, null, lifecycle, context, isSVG));\r\n        }\r\n    }\r\n    else if (nextChildrenLength === 0) {\r\n        removeAllChildren(dom, lastChildren, lifecycle, isRecycling);\r\n    }\r\n    else if (lastChildrenLength > nextChildrenLength) {\r\n        for (i = commonLength; i < lastChildrenLength; i++) {\r\n            unmount(lastChildren[i], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, isRecycling) {\r\n    var aLength = a.length;\r\n    var bLength = b.length;\r\n    var aEnd = aLength - 1;\r\n    var bEnd = bLength - 1;\r\n    var aStart = 0;\r\n    var bStart = 0;\r\n    var i;\r\n    var j;\r\n    var aNode;\r\n    var bNode;\r\n    var nextNode;\r\n    var nextPos;\r\n    var node;\r\n    if (aLength === 0) {\r\n        if (bLength > 0) {\r\n            mountArrayChildren(b, dom, lifecycle, context, isSVG);\r\n        }\r\n        return;\r\n    }\r\n    else if (bLength === 0) {\r\n        removeAllChildren(dom, a, lifecycle, isRecycling);\r\n        return;\r\n    }\r\n    var aStartNode = a[aStart];\r\n    var bStartNode = b[bStart];\r\n    var aEndNode = a[aEnd];\r\n    var bEndNode = b[bEnd];\r\n    if (bStartNode.dom) {\r\n        b[bStart] = bStartNode = directClone(bStartNode);\r\n    }\r\n    if (bEndNode.dom) {\r\n        b[bEnd] = bEndNode = directClone(bEndNode);\r\n    }\r\n    // Step 1\r\n    /* eslint no-constant-condition: 0 */\r\n    outer: while (true) {\r\n        // Sync nodes with the same key at the beginning.\r\n        while (aStartNode.key === bStartNode.key) {\r\n            patch(aStartNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aStart++;\r\n            bStart++;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aStartNode = a[aStart];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = directClone(bStartNode);\r\n            }\r\n        }\r\n        // Sync nodes with the same key at the end.\r\n        while (aEndNode.key === bEndNode.key) {\r\n            patch(aEndNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            aEnd--;\r\n            bEnd--;\r\n            if (aStart > aEnd || bStart > bEnd) {\r\n                break outer;\r\n            }\r\n            aEndNode = a[aEnd];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = directClone(bEndNode);\r\n            }\r\n        }\r\n        // Move and sync nodes from right to left.\r\n        if (aEndNode.key === bStartNode.key) {\r\n            patch(aEndNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            insertOrAppend(dom, bStartNode.dom, aStartNode.dom);\r\n            aEnd--;\r\n            bStart++;\r\n            aEndNode = a[aEnd];\r\n            bStartNode = b[bStart];\r\n            if (bStartNode.dom) {\r\n                b[bStart] = bStartNode = directClone(bStartNode);\r\n            }\r\n            continue;\r\n        }\r\n        // Move and sync nodes from left to right.\r\n        if (aStartNode.key === bEndNode.key) {\r\n            patch(aStartNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n            insertOrAppend(dom, bEndNode.dom, nextNode);\r\n            aStart++;\r\n            bEnd--;\r\n            aStartNode = a[aStart];\r\n            bEndNode = b[bEnd];\r\n            if (bEndNode.dom) {\r\n                b[bEnd] = bEndNode = directClone(bEndNode);\r\n            }\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n    if (aStart > aEnd) {\r\n        if (bStart <= bEnd) {\r\n            nextPos = bEnd + 1;\r\n            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n            while (bStart <= bEnd) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);\r\n            }\r\n        }\r\n    }\r\n    else if (bStart > bEnd) {\r\n        while (aStart <= aEnd) {\r\n            unmount(a[aStart++], dom, lifecycle, false, isRecycling);\r\n        }\r\n    }\r\n    else {\r\n        aLength = aEnd - aStart + 1;\r\n        bLength = bEnd - bStart + 1;\r\n        var sources = new Array(bLength);\r\n        // Mark all nodes as inserted.\r\n        for (i = 0; i < bLength; i++) {\r\n            sources[i] = -1;\r\n        }\r\n        var moved = false;\r\n        var pos = 0;\r\n        var patched = 0;\r\n        // When sizes are small, just loop them through\r\n        if (bLength <= 4 || aLength * bLength <= 16) {\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLength) {\r\n                    for (j = bStart; j <= bEnd; j++) {\r\n                        bNode = b[j];\r\n                        if (aNode.key === bNode.key) {\r\n                            sources[j - bStart] = i;\r\n                            if (pos > j) {\r\n                                moved = true;\r\n                            }\r\n                            else {\r\n                                pos = j;\r\n                            }\r\n                            if (bNode.dom) {\r\n                                b[j] = bNode = directClone(bNode);\r\n                            }\r\n                            patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                            patched++;\r\n                            a[i] = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var keyIndex = new Map();\r\n            // Map keys by their index in array\r\n            for (i = bStart; i <= bEnd; i++) {\r\n                keyIndex.set(b[i].key, i);\r\n            }\r\n            // Try to patch same keys\r\n            for (i = aStart; i <= aEnd; i++) {\r\n                aNode = a[i];\r\n                if (patched < bLength) {\r\n                    j = keyIndex.get(aNode.key);\r\n                    if (!isUndefined(j)) {\r\n                        bNode = b[j];\r\n                        sources[j - bStart] = i;\r\n                        if (pos > j) {\r\n                            moved = true;\r\n                        }\r\n                        else {\r\n                            pos = j;\r\n                        }\r\n                        if (bNode.dom) {\r\n                            b[j] = bNode = directClone(bNode);\r\n                        }\r\n                        patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);\r\n                        patched++;\r\n                        a[i] = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // fast-path: if nothing patched remove all old and add all new\r\n        if (aLength === a.length && patched === 0) {\r\n            removeAllChildren(dom, a, lifecycle, isRecycling);\r\n            while (bStart < bLength) {\r\n                node = b[bStart];\r\n                if (node.dom) {\r\n                    b[bStart] = node = directClone(node);\r\n                }\r\n                bStart++;\r\n                insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), null);\r\n            }\r\n        }\r\n        else {\r\n            i = aLength - patched;\r\n            while (i > 0) {\r\n                aNode = a[aStart++];\r\n                if (!isNull(aNode)) {\r\n                    unmount(aNode, dom, lifecycle, true, isRecycling);\r\n                    i--;\r\n                }\r\n            }\r\n            if (moved) {\r\n                var seq = lis_algorithm(sources);\r\n                j = seq.length - 1;\r\n                for (i = bLength - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);\r\n                    }\r\n                    else {\r\n                        if (j < 0 || i !== seq[j]) {\r\n                            pos = i + bStart;\r\n                            node = b[pos];\r\n                            nextPos = pos + 1;\r\n                            nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                            insertOrAppend(dom, node.dom, nextNode);\r\n                        }\r\n                        else {\r\n                            j--;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (patched !== bLength) {\r\n                // when patched count doesn't match b length we need to insert those new ones\r\n                // loop backwards so we can use insertBefore\r\n                for (i = bLength - 1; i >= 0; i--) {\r\n                    if (sources[i] === -1) {\r\n                        pos = i + bStart;\r\n                        node = b[pos];\r\n                        if (node.dom) {\r\n                            b[pos] = node = directClone(node);\r\n                        }\r\n                        nextPos = pos + 1;\r\n                        nextNode = nextPos < b.length ? b[nextPos].dom : null;\r\n                        insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n// // https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction lis_algorithm(arr) {\r\n    var p = arr.slice(0);\r\n    var result = [0];\r\n    var i;\r\n    var j;\r\n    var u;\r\n    var v;\r\n    var c;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i++) {\r\n        var arrI = arr[i];\r\n        if (arrI === -1) {\r\n            continue;\r\n        }\r\n        j = result[result.length - 1];\r\n        if (arr[j] < arrI) {\r\n            p[i] = j;\r\n            result.push(i);\r\n            continue;\r\n        }\r\n        u = 0;\r\n        v = result.length - 1;\r\n        while (u < v) {\r\n            c = ((u + v) / 2) | 0;\r\n            if (arr[result[c]] < arrI) {\r\n                u = c + 1;\r\n            }\r\n            else {\r\n                v = c;\r\n            }\r\n        }\r\n        if (arrI < arr[result[u]]) {\r\n            if (u > 0) {\r\n                p[i] = result[u - 1];\r\n            }\r\n            result[u] = i;\r\n        }\r\n    }\r\n    u = result.length;\r\n    v = result[u - 1];\r\n    while (u-- > 0) {\r\n        result[u] = v;\r\n        v = p[v];\r\n    }\r\n    return result;\r\n}\r\nfunction isAttrAnEvent(attr) {\r\n    return attr[0] === \"o\" && attr[1] === \"n\";\r\n}\r\nfunction patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue) {\r\n    if (lastValue !== nextValue) {\r\n        if (skipProps.has(prop) || (hasControlledValue && prop === \"value\")) {\r\n            return;\r\n        }\r\n        else if (booleanProps.has(prop)) {\r\n            prop = prop === \"autoFocus\" ? prop.toLowerCase() : prop;\r\n            dom[prop] = !!nextValue;\r\n        }\r\n        else if (strictProps.has(prop)) {\r\n            var value = isNullOrUndef(nextValue) ? \"\" : nextValue;\r\n            if (dom[prop] !== value) {\r\n                dom[prop] = value;\r\n            }\r\n        }\r\n        else if (isAttrAnEvent(prop)) {\r\n            patchEvent(prop, lastValue, nextValue, dom);\r\n        }\r\n        else if (isNullOrUndef(nextValue)) {\r\n            dom.removeAttribute(prop);\r\n        }\r\n        else if (prop === \"style\") {\r\n            patchStyle(lastValue, nextValue, dom);\r\n        }\r\n        else if (prop === \"dangerouslySetInnerHTML\") {\r\n            var lastHtml = lastValue && lastValue.__html;\r\n            var nextHtml = nextValue && nextValue.__html;\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            // We optimize for NS being boolean. Its 99.9% time false\r\n            if (isSVG && namespaces.has(prop)) {\r\n                // If we end up in this path we can read property again\r\n                dom.setAttributeNS(namespaces.get(prop), prop, nextValue);\r\n            }\r\n            else {\r\n                dom.setAttribute(prop, nextValue);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction patchEvent(name, lastValue, nextValue, dom) {\r\n    if (lastValue !== nextValue) {\r\n        if (delegatedEvents.has(name)) {\r\n            handleEvent(name, lastValue, nextValue, dom);\r\n        }\r\n        else {\r\n            var nameLowerCase = name.toLowerCase();\r\n            var domEvent = dom[nameLowerCase];\r\n            // if the function is wrapped, that means it's been controlled by a wrapper\r\n            if (domEvent && domEvent.wrapped) {\r\n                return;\r\n            }\r\n            if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {\r\n                var linkEvent = nextValue.event;\r\n                if (linkEvent && isFunction(linkEvent)) {\r\n                    dom[nameLowerCase] = function (e) {\r\n                        linkEvent(nextValue.data, e);\r\n                    };\r\n                }\r\n                else {\r\n                    if (process.env.NODE_ENV !== \"production\") {\r\n                        throwError((\"an event on a VNode \\\"\" + name + \"\\\". was not a function or a valid linkEvent.\"));\r\n                    }\r\n                    throwError();\r\n                }\r\n            }\r\n            else {\r\n                dom[nameLowerCase] = nextValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n// We are assuming here that we come from patchProp routine\r\n// -nextAttrValue cannot be null or undefined\r\nfunction patchStyle(lastAttrValue, nextAttrValue, dom) {\r\n    var domStyle = dom.style;\r\n    var style;\r\n    var value;\r\n    if (isString(nextAttrValue)) {\r\n        domStyle.cssText = nextAttrValue;\r\n        return;\r\n    }\r\n    if (!isNullOrUndef(lastAttrValue) && !isString(lastAttrValue)) {\r\n        for (style in nextAttrValue) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            value = nextAttrValue[style];\r\n            if (value !== lastAttrValue[style]) {\r\n                domStyle[style] =\r\n                    !isNumber(value) || isUnitlessNumber.has(style)\r\n                        ? value\r\n                        : value + \"px\";\r\n            }\r\n        }\r\n        for (style in lastAttrValue) {\r\n            if (isNullOrUndef(nextAttrValue[style])) {\r\n                domStyle[style] = \"\";\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        for (style in nextAttrValue) {\r\n            value = nextAttrValue[style];\r\n            domStyle[style] =\r\n                !isNumber(value) || isUnitlessNumber.has(style) ? value : value + \"px\";\r\n        }\r\n    }\r\n}\r\nfunction removeProp(prop, lastValue, dom, nextFlags) {\r\n    if (prop === \"value\") {\r\n        // When removing value of select element, it needs to be set to null instead empty string, because empty string is valid value for option which makes that option selected\r\n        // MS IE/Edge don't follow html spec for textArea and input elements and we need to set empty string to value in those cases to avoid \"null\" and \"undefined\" texts\r\n        dom.value = nextFlags & 2048 /* SelectElement */ ? null : \"\";\r\n    }\r\n    else if (prop === \"style\") {\r\n        dom.removeAttribute(\"style\");\r\n    }\r\n    else if (isAttrAnEvent(prop)) {\r\n        handleEvent(prop, lastValue, null, dom);\r\n    }\r\n    else {\r\n        dom.removeAttribute(prop);\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction mount(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var flags = vNode.flags;\r\n    if (flags & 3970 /* Element */) {\r\n        return mountElement(vNode, parentDom, lifecycle, context, isSVG);\r\n    }\r\n    else if (flags & 28 /* Component */) {\r\n        return mountComponent(vNode, parentDom, lifecycle, context, isSVG, (flags & 4 /* ComponentClass */) > 0);\r\n    }\r\n    else if (flags & 4096 /* Void */) {\r\n        return mountVoid(vNode, parentDom);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        return mountText(vNode, parentDom);\r\n    }\r\n    else {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof vNode === \"object\") {\r\n                throwError((\"mount() received an object that's not a valid VNode, you should stringify it first. Object: \\\"\" + (JSON.stringify(vNode)) + \"\\\".\"));\r\n            }\r\n            else {\r\n                throwError((\"mount() expects a valid VNode, instead it received an object with the type \\\"\" + (typeof vNode) + \"\\\".\"));\r\n            }\r\n        }\r\n        throwError();\r\n    }\r\n}\r\nfunction mountText(vNode, parentDom) {\r\n    var dom = document.createTextNode(vNode.children);\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountVoid(vNode, parentDom) {\r\n    var dom = document.createTextNode(\"\");\r\n    vNode.dom = dom;\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountElement(vNode, parentDom, lifecycle, context, isSVG) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleElement(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var flags = vNode.flags;\r\n    isSVG = isSVG || (flags & 128 /* SvgElement */) > 0;\r\n    dom = documentCreateElement(vNode.type, isSVG);\r\n    var children = vNode.children;\r\n    var props = vNode.props;\r\n    var className = vNode.className;\r\n    var ref = vNode.ref;\r\n    vNode.dom = dom;\r\n    if (!isInvalid(children)) {\r\n        if (isStringOrNumber(children)) {\r\n            setTextContent(dom, children);\r\n        }\r\n        else {\r\n            var childrenIsSVG = isSVG === true && vNode.type !== \"foreignObject\";\r\n            if (isArray(children)) {\r\n                mountArrayChildren(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n            else if (isVNode(children)) {\r\n                mount(children, dom, lifecycle, context, childrenIsSVG);\r\n            }\r\n        }\r\n    }\r\n    if (!isNull(props)) {\r\n        var hasControlledValue = false;\r\n        var isFormElement = (flags & 3584 /* FormElement */) > 0;\r\n        if (isFormElement) {\r\n            hasControlledValue = isControlledFormElement(props);\r\n        }\r\n        for (var prop in props) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);\r\n        }\r\n        if (isFormElement) {\r\n            processElement(flags, vNode, dom, props, true, hasControlledValue);\r\n        }\r\n    }\r\n    if (className !== null) {\r\n        if (isSVG) {\r\n            dom.setAttribute(\"class\", className);\r\n        }\r\n        else {\r\n            dom.className = className;\r\n        }\r\n    }\r\n    if (!isNull(ref)) {\r\n        mountRef(dom, ref, lifecycle);\r\n    }\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\nfunction mountArrayChildren(children, dom, lifecycle, context, isSVG) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        // Verify can string/number be here. might cause de-opt. - Normalization takes care of it.\r\n        if (!isInvalid(child)) {\r\n            if (child.dom) {\r\n                children[i] = child = directClone(child);\r\n            }\r\n            mount(children[i], dom, lifecycle, context, isSVG);\r\n        }\r\n    }\r\n}\r\nfunction mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {\r\n    var dom;\r\n    if (options.recyclingEnabled) {\r\n        dom = recycleComponent(vNode, lifecycle, context, isSVG);\r\n        if (!isNull(dom)) {\r\n            if (!isNull(parentDom)) {\r\n                appendChild(parentDom, dom);\r\n            }\r\n            return dom;\r\n        }\r\n    }\r\n    var type = vNode.type;\r\n    var props = vNode.props || EMPTY_OBJ;\r\n    var ref = vNode.ref;\r\n    if (isClass) {\r\n        var instance = createClassComponentInstance(vNode, type, props, context, isSVG, lifecycle);\r\n        var input = instance._lastInput;\r\n        instance._vNode = vNode;\r\n        vNode.dom = dom = mount(input, null, lifecycle, instance._childContext, isSVG);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n        mountClassComponentCallbacks(vNode, ref, instance, lifecycle);\r\n        instance._updating = false;\r\n        if (options.findDOMNodeEnabled) {\r\n            componentToDOMNodeMap.set(instance, dom);\r\n        }\r\n    }\r\n    else {\r\n        var input$1 = createFunctionalComponentInput(vNode, type, props, context);\r\n        vNode.dom = dom = mount(input$1, null, lifecycle, context, isSVG);\r\n        vNode.children = input$1;\r\n        mountFunctionalComponentCallbacks(props, ref, dom, lifecycle);\r\n        if (!isNull(parentDom)) {\r\n            appendChild(parentDom, dom);\r\n        }\r\n    }\r\n    return dom;\r\n}\r\nfunction mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {\r\n    if (ref) {\r\n        if (isFunction(ref)) {\r\n            ref(instance);\r\n        }\r\n        else {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (isStringOrNumber(ref)) {\r\n                    throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n                }\r\n                else if (isObject(ref) && vNode.flags & 4 /* ComponentClass */) {\r\n                    throwError(\"functional component lifecycle events are not supported on ES2015 class components.\");\r\n                }\r\n                else {\r\n                    throwError((\"a bad value for \\\"ref\\\" was used on component: \\\"\" + (JSON.stringify(ref)) + \"\\\"\"));\r\n                }\r\n            }\r\n            throwError();\r\n        }\r\n    }\r\n    var hasDidMount = !isUndefined(instance.componentDidMount);\r\n    var afterMount = options.afterMount;\r\n    if (hasDidMount || !isNull(afterMount)) {\r\n        lifecycle.addListener((function () {\r\n            instance._updating = true;\r\n            if (afterMount) {\r\n                afterMount(vNode);\r\n            }\r\n            if (hasDidMount) {\r\n                instance.componentDidMount();\r\n            }\r\n            instance._updating = false;\r\n        }));\r\n    }\r\n}\r\nfunction mountFunctionalComponentCallbacks(props, ref, dom, lifecycle) {\r\n    if (ref) {\r\n        if (!isNullOrUndef(ref.onComponentWillMount)) {\r\n            ref.onComponentWillMount(props);\r\n        }\r\n        if (!isNullOrUndef(ref.onComponentDidMount)) {\r\n            lifecycle.addListener((function () { return ref.onComponentDidMount(dom, props); }));\r\n        }\r\n    }\r\n}\r\nfunction mountRef(dom, value, lifecycle) {\r\n    if (isFunction(value)) {\r\n        lifecycle.addListener((function () { return value(dom); }));\r\n    }\r\n    else {\r\n        if (isInvalid(value)) {\r\n            return;\r\n        }\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError('string \"refs\" are not supported in Inferno 1.0. Use callback \"refs\" instead.');\r\n        }\r\n        throwError();\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n// We need EMPTY_OBJ defined in one place.\r\n// Its used for comparison so we cant inline it into shared\r\nvar EMPTY_OBJ = {};\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    Object.freeze(EMPTY_OBJ);\r\n}\r\nfunction createClassComponentInstance(vNode, Component, props, context, isSVG, lifecycle) {\r\n    if (isUndefined(context)) {\r\n        context = EMPTY_OBJ; // Context should not be mutable\r\n    }\r\n    var instance = new Component(props, context);\r\n    vNode.children = instance;\r\n    instance._blockSetState = false;\r\n    instance.context = context;\r\n    if (instance.props === EMPTY_OBJ) {\r\n        instance.props = props;\r\n    }\r\n    // setState callbacks must fire after render is done when called from componentWillReceiveProps or componentWillMount\r\n    instance._lifecycle = lifecycle;\r\n    instance._unmounted = false;\r\n    instance._pendingSetState = true;\r\n    instance._isSVG = isSVG;\r\n    if (!isNullOrUndef(instance.componentWillMount)) {\r\n        instance._blockRender = true;\r\n        instance.componentWillMount();\r\n        instance._blockRender = false;\r\n    }\r\n    var childContext;\r\n    if (!isNullOrUndef(instance.getChildContext)) {\r\n        childContext = instance.getChildContext();\r\n    }\r\n    if (isNullOrUndef(childContext)) {\r\n        instance._childContext = context;\r\n    }\r\n    else {\r\n        instance._childContext = combineFrom(context, childContext);\r\n    }\r\n    if (!isNull(options.beforeRender)) {\r\n        options.beforeRender(instance);\r\n    }\r\n    var input = instance.render(props, instance.state, context);\r\n    if (!isNull(options.afterRender)) {\r\n        options.afterRender(instance);\r\n    }\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    instance._pendingSetState = false;\r\n    instance._lastInput = input;\r\n    return instance;\r\n}\r\nfunction replaceLastChildAndUnmount(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    replaceVNode(parentDom, mount(nextInput, null, lifecycle, context, isSVG), lastInput, lifecycle, isRecycling);\r\n}\r\nfunction replaceVNode(parentDom, dom, vNode, lifecycle, isRecycling) {\r\n    unmount(vNode, null, lifecycle, false, isRecycling);\r\n    replaceChild(parentDom, dom, vNode.dom);\r\n}\r\nfunction createFunctionalComponentInput(vNode, component, props, context) {\r\n    var input = component(props, context);\r\n    if (isArray(input)) {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            throwError(\"a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.\");\r\n        }\r\n        throwError();\r\n    }\r\n    else if (isInvalid(input)) {\r\n        input = createVoidVNode();\r\n    }\r\n    else if (isStringOrNumber(input)) {\r\n        input = createTextVNode(input, null);\r\n    }\r\n    else {\r\n        if (input.dom) {\r\n            input = directClone(input);\r\n        }\r\n        if (input.flags & 28 /* Component */) {\r\n            // if we have an input that is also a component, we run into a tricky situation\r\n            // where the root vNode needs to always have the correct DOM entry\r\n            // so we break monomorphism on our input and supply it our vNode as parentVNode\r\n            // we can optimise this in the future, but this gets us out of a lot of issues\r\n            input.parentVNode = vNode;\r\n        }\r\n    }\r\n    return input;\r\n}\r\nfunction setTextContent(dom, text) {\r\n    if (text !== \"\") {\r\n        dom.textContent = text;\r\n    }\r\n    else {\r\n        dom.appendChild(document.createTextNode(\"\"));\r\n    }\r\n}\r\nfunction updateTextContent(dom, text) {\r\n    dom.firstChild.nodeValue = text;\r\n}\r\nfunction appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\nfunction insertOrAppend(parentDom, newNode, nextNode) {\r\n    if (isNullOrUndef(nextNode)) {\r\n        appendChild(parentDom, newNode);\r\n    }\r\n    else {\r\n        parentDom.insertBefore(newNode, nextNode);\r\n    }\r\n}\r\nfunction documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    }\r\n    else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\nfunction replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG, isRecycling) {\r\n    unmount(lastNode, null, lifecycle, false, isRecycling);\r\n    var dom = mount(nextNode, null, lifecycle, context, isSVG);\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\nfunction replaceChild(parentDom, nextDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(nextDom, lastDom);\r\n}\r\nfunction removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\nfunction removeAllChildren(dom, children, lifecycle, isRecycling) {\r\n    if (!options.recyclingEnabled || (options.recyclingEnabled && !isRecycling)) {\r\n        removeChildren(null, children, lifecycle, isRecycling);\r\n    }\r\n    dom.textContent = \"\";\r\n}\r\nfunction removeChildren(dom, children, lifecycle, isRecycling) {\r\n    for (var i = 0, len = children.length; i < len; i++) {\r\n        var child = children[i];\r\n        if (!isInvalid(child)) {\r\n            unmount(child, dom, lifecycle, true, isRecycling);\r\n        }\r\n    }\r\n}\r\nfunction isKeyed(lastChildren, nextChildren) {\r\n    return (nextChildren.length > 0 &&\r\n        !isNullOrUndef(nextChildren[0]) &&\r\n        !isNullOrUndef(nextChildren[0].key) &&\r\n        lastChildren.length > 0 &&\r\n        !isNullOrUndef(lastChildren[0]) &&\r\n        !isNullOrUndef(lastChildren[0].key));\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction VNode(children, className, flags, key, props, ref, type) {\r\n    this.children = children;\r\n    this.className = className;\r\n    this.dom = null;\r\n    this.flags = flags;\r\n    this.key = key;\r\n    this.props = props;\r\n    this.ref = ref;\r\n    this.type = type;\r\n}\r\n/**\r\n * Creates virtual node\r\n * @param {number} flags\r\n * @param {string|Function|null} type\r\n * @param {string|null=} className\r\n * @param {object=} children\r\n * @param {object=} props\r\n * @param {*=} key\r\n * @param {object|Function=} ref\r\n * @param {boolean=} noNormalise\r\n * @returns {VNode} returns new virtual node\r\n */\r\nfunction createVNode(flags, type, className, children, props, key, ref, noNormalise) {\r\n    if (flags & 16 /* ComponentUnknown */) {\r\n        flags = isStatefulComponent(type)\r\n            ? 4 /* ComponentClass */\r\n            : 8 /* ComponentFunction */;\r\n    }\r\n    var vNode = new VNode(children === void 0 ? null : children, className === void 0 ? null : className, flags, key === void 0 ? null : key, props === void 0 ? null : props, ref === void 0 ? null : ref, type);\r\n    if (noNormalise !== true) {\r\n        normalize(vNode);\r\n    }\r\n    if (options.createVNode !== null) {\r\n        options.createVNode(vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction directClone(vNodeToClone) {\r\n    var newVNode;\r\n    var flags = vNodeToClone.flags;\r\n    if (flags & 28 /* Component */) {\r\n        var props;\r\n        var propsToClone = vNodeToClone.props;\r\n        if (isNull(propsToClone)) {\r\n            props = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props = {};\r\n            for (var key in propsToClone) {\r\n                props[key] = propsToClone[key];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, null, null, props, vNodeToClone.key, vNodeToClone.ref, true);\r\n        var newProps = newVNode.props;\r\n        var newChildren = newProps.children;\r\n        // we need to also clone component children that are in props\r\n        // as the children may also have been hoisted\r\n        if (newChildren) {\r\n            if (isArray(newChildren)) {\r\n                var len = newChildren.length;\r\n                if (len > 0) {\r\n                    var tmpArray = [];\r\n                    for (var i = 0; i < len; i++) {\r\n                        var child = newChildren[i];\r\n                        if (isStringOrNumber(child)) {\r\n                            tmpArray.push(child);\r\n                        }\r\n                        else if (!isInvalid(child) && isVNode(child)) {\r\n                            tmpArray.push(directClone(child));\r\n                        }\r\n                    }\r\n                    newProps.children = tmpArray;\r\n                }\r\n            }\r\n            else if (isVNode(newChildren)) {\r\n                newProps.children = directClone(newChildren);\r\n            }\r\n        }\r\n        newVNode.children = null;\r\n    }\r\n    else if (flags & 3970 /* Element */) {\r\n        var children = vNodeToClone.children;\r\n        var props$1;\r\n        var propsToClone$1 = vNodeToClone.props;\r\n        if (propsToClone$1 === null) {\r\n            props$1 = EMPTY_OBJ;\r\n        }\r\n        else {\r\n            props$1 = {};\r\n            for (var key$1 in propsToClone$1) {\r\n                props$1[key$1] = propsToClone$1[key$1];\r\n            }\r\n        }\r\n        newVNode = createVNode(flags, vNodeToClone.type, vNodeToClone.className, children, props$1, vNodeToClone.key, vNodeToClone.ref, !children);\r\n    }\r\n    else if (flags & 1 /* Text */) {\r\n        newVNode = createTextVNode(vNodeToClone.children, vNodeToClone.key);\r\n    }\r\n    return newVNode;\r\n}\r\n/*\r\n directClone is preferred over cloneVNode and used internally also.\r\n This function makes Inferno backwards compatible.\r\n And can be tree-shaked by modern bundlers\r\n\n Would be nice to combine this with directClone but could not do it without breaking change\r\n */\r\n/**\r\n * Clones given virtual node by creating new instance of it\r\n * @param {VNode} vNodeToClone virtual node to be cloned\r\n * @param {Props=} props additional props for new virtual node\r\n * @param {...*} _children new children for new virtual node\r\n * @returns {VNode} new virtual node\r\n */\r\nfunction cloneVNode(vNodeToClone, props) {\n    var _children = [], len$2 = arguments.length - 2;\n    while ( len$2-- > 0 ) _children[ len$2 ] = arguments[ len$2 + 2 ];\n\r\n    var children = _children;\r\n    var childrenLen = _children.length;\r\n    if (childrenLen > 0 && !isUndefined(_children[0])) {\r\n        if (!props) {\r\n            props = {};\r\n        }\r\n        if (childrenLen === 1) {\r\n            children = _children[0];\r\n        }\r\n        if (!isUndefined(children)) {\r\n            props.children = children;\r\n        }\r\n    }\r\n    var newVNode;\r\n    if (isArray(vNodeToClone)) {\r\n        var tmpArray = [];\r\n        for (var i = 0, len = vNodeToClone.length; i < len; i++) {\r\n            tmpArray.push(directClone(vNodeToClone[i]));\r\n        }\r\n        newVNode = tmpArray;\r\n    }\r\n    else {\r\n        var flags = vNodeToClone.flags;\r\n        var className = vNodeToClone.className;\r\n        var key = vNodeToClone.key;\r\n        var ref = vNodeToClone.ref;\r\n        if (props) {\r\n            if (props.hasOwnProperty(\"className\")) {\r\n                className = props.className;\r\n            }\r\n            if (props.hasOwnProperty(\"ref\")) {\r\n                ref = props.ref;\r\n            }\r\n            if (props.hasOwnProperty(\"key\")) {\r\n                key = props.key;\r\n            }\r\n        }\r\n        if (flags & 28 /* Component */) {\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, null, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, true);\r\n            var newProps = newVNode.props;\r\n            if (newProps) {\r\n                var newChildren = newProps.children;\r\n                // we need to also clone component children that are in props\r\n                // as the children may also have been hoisted\r\n                if (newChildren) {\r\n                    if (isArray(newChildren)) {\r\n                        var len$1 = newChildren.length;\r\n                        if (len$1 > 0) {\r\n                            var tmpArray$1 = [];\r\n                            for (var i$1 = 0; i$1 < len$1; i$1++) {\r\n                                var child = newChildren[i$1];\r\n                                if (isStringOrNumber(child)) {\r\n                                    tmpArray$1.push(child);\r\n                                }\r\n                                else if (!isInvalid(child) && isVNode(child)) {\r\n                                    tmpArray$1.push(directClone(child));\r\n                                }\r\n                            }\r\n                            newProps.children = tmpArray$1;\r\n                        }\r\n                    }\r\n                    else if (isVNode(newChildren)) {\r\n                        newProps.children = directClone(newChildren);\r\n                    }\r\n                }\r\n            }\r\n            newVNode.children = null;\r\n        }\r\n        else if (flags & 3970 /* Element */) {\r\n            children =\r\n                props && !isUndefined(props.children)\r\n                    ? props.children\r\n                    : vNodeToClone.children;\r\n            newVNode = createVNode(flags, vNodeToClone.type, className, children, !vNodeToClone.props && !props\r\n                ? EMPTY_OBJ\r\n                : combineFrom(vNodeToClone.props, props), key, ref, false);\r\n        }\r\n        else if (flags & 1 /* Text */) {\r\n            newVNode = createTextVNode(vNodeToClone.children, key);\r\n        }\r\n    }\r\n    return newVNode;\r\n}\r\nfunction createVoidVNode() {\r\n    return createVNode(4096 /* Void */, null);\r\n}\r\nfunction createTextVNode(text, key) {\r\n    return createVNode(1 /* Text */, null, null, text, null, key);\r\n}\r\nfunction isVNode(o) {\r\n    return !!o.flags;\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\nfunction applyKey(key, vNode) {\r\n    vNode.key = key;\r\n    return vNode;\r\n}\r\nfunction applyKeyIfMissing(key, vNode) {\r\n    if (isNumber(key)) {\r\n        key = \".\" + key;\r\n    }\r\n    if (isNull(vNode.key) || vNode.key[0] === \".\") {\r\n        return applyKey(key, vNode);\r\n    }\r\n    return vNode;\r\n}\r\nfunction applyKeyPrefix(key, vNode) {\r\n    vNode.key = key + vNode.key;\r\n    return vNode;\r\n}\r\nfunction _normalizeVNodes(nodes, result, index, currentKey) {\r\n    for (var len = nodes.length; index < len; index++) {\r\n        var n = nodes[index];\r\n        var key = currentKey + \".\" + index;\r\n        if (!isInvalid(n)) {\r\n            if (isArray(n)) {\r\n                _normalizeVNodes(n, result, 0, key);\r\n            }\r\n            else {\r\n                if (isStringOrNumber(n)) {\r\n                    n = createTextVNode(n, null);\r\n                }\r\n                else if ((isVNode(n) && n.dom) || (n.key && n.key[0] === \".\")) {\r\n                    n = directClone(n);\r\n                }\r\n                if (isNull(n.key) || n.key[0] === \".\") {\r\n                    n = applyKey(key, n);\r\n                }\r\n                else {\r\n                    n = applyKeyPrefix(currentKey, n);\r\n                }\r\n                result.push(n);\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction normalizeVNodes(nodes) {\r\n    var newNodes;\r\n    // we assign $ which basically means we've flagged this array for future note\r\n    // if it comes back again, we need to clone it, as people are using it\r\n    // in an immutable way\r\n    // tslint:disable\r\n    if (nodes[\"$\"] === true) {\r\n        nodes = nodes.slice();\r\n    }\r\n    else {\r\n        nodes[\"$\"] = true;\r\n    }\r\n    // tslint:enable\r\n    for (var i = 0, len = nodes.length; i < len; i++) {\r\n        var n = nodes[i];\r\n        if (isInvalid(n) || isArray(n)) {\r\n            var result = (newNodes || nodes).slice(0, i);\r\n            _normalizeVNodes(nodes, result, i, \"\");\r\n            return result;\r\n        }\r\n        else if (isStringOrNumber(n)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, createTextVNode(n, null)));\r\n        }\r\n        else if ((isVNode(n) && n.dom !== null) ||\r\n            (isNull(n.key) && (n.flags & 64 /* HasNonKeyedChildren */) === 0)) {\r\n            if (!newNodes) {\r\n                newNodes = nodes.slice(0, i);\r\n            }\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n        else if (newNodes) {\r\n            newNodes.push(applyKeyIfMissing(i, directClone(n)));\r\n        }\r\n    }\r\n    return newNodes || nodes;\r\n}\r\nfunction normalizeChildren(children) {\r\n    if (isArray(children)) {\r\n        return normalizeVNodes(children);\r\n    }\r\n    else if (isVNode(children) && children.dom !== null) {\r\n        return directClone(children);\r\n    }\r\n    return children;\r\n}\r\nfunction normalizeProps(vNode, props, children) {\r\n    if (vNode.flags & 3970 /* Element */) {\r\n        if (isNullOrUndef(children) && props.hasOwnProperty(\"children\")) {\r\n            vNode.children = props.children;\r\n        }\r\n        if (props.hasOwnProperty(\"className\")) {\r\n            vNode.className = props.className || null;\r\n            delete props.className;\r\n        }\r\n    }\r\n    if (props.hasOwnProperty(\"ref\")) {\r\n        vNode.ref = props.ref;\r\n        delete props.ref;\r\n    }\r\n    if (props.hasOwnProperty(\"key\")) {\r\n        vNode.key = props.key;\r\n        delete props.key;\r\n    }\r\n}\r\nfunction getFlagsForElementVnode(type) {\r\n    if (type === \"svg\") {\r\n        return 128 /* SvgElement */;\r\n    }\r\n    else if (type === \"input\") {\r\n        return 512 /* InputElement */;\r\n    }\r\n    else if (type === \"select\") {\r\n        return 2048 /* SelectElement */;\r\n    }\r\n    else if (type === \"textarea\") {\r\n        return 1024 /* TextareaElement */;\r\n    }\r\n    else if (type === \"media\") {\r\n        return 256 /* MediaElement */;\r\n    }\r\n    return 2 /* HtmlElement */;\r\n}\r\nfunction normalize(vNode) {\r\n    var props = vNode.props;\r\n    var children = vNode.children;\r\n    // convert a wrongly created type back to element\r\n    // Primitive node doesn't have defaultProps, only Component\r\n    if (vNode.flags & 28 /* Component */) {\r\n        // set default props\r\n        var type = vNode.type;\r\n        var defaultProps = type.defaultProps;\r\n        if (!isNullOrUndef(defaultProps)) {\r\n            if (!props) {\r\n                props = vNode.props = defaultProps; // Create new object if only defaultProps given\r\n            }\r\n            else {\r\n                for (var prop in defaultProps) {\r\n                    if (isUndefined(props[prop])) {\r\n                        props[prop] = defaultProps[prop];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (isString(type)) {\r\n            vNode.flags = getFlagsForElementVnode(type);\r\n            if (props && props.children) {\r\n                vNode.children = props.children;\r\n                children = props.children;\r\n            }\r\n        }\r\n    }\r\n    if (props) {\r\n        normalizeProps(vNode, props, children);\r\n        if (!isInvalid(props.children)) {\r\n            props.children = normalizeChildren(props.children);\r\n        }\r\n    }\r\n    if (!isInvalid(children)) {\r\n        vNode.children = normalizeChildren(children);\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        // This code will be stripped out from production CODE\r\n        // It helps users to track errors in their applications.\r\n        var verifyKeys = function (vNodes) {\r\n            var keyValues = vNodes.map((function (vnode) {\r\n                return vnode.key;\r\n            }));\r\n            keyValues.some((function (item, idx) {\r\n                var hasDuplicate = keyValues.indexOf(item) !== idx;\r\n                if (hasDuplicate) {\r\n                    warning(\"Inferno normalisation(...): Encountered two children with same key, all keys must be unique within its siblings. Duplicated key is:\" +\r\n                        item);\r\n                }\r\n                return hasDuplicate;\r\n            }));\r\n        };\r\n        if (vNode.children && Array.isArray(vNode.children)) {\r\n            verifyKeys(vNode.children);\r\n        }\r\n    }\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/**\r\n * Links given data to event as first parameter\r\n * @param {*} data data to be linked, it will be available in function as first parameter\r\n * @param {Function} event Function to be called when event occurs\r\n * @returns {{data: *, event: Function}}\r\n */\r\nfunction linkEvent(data, event) {\r\n    if (isFunction(event)) {\r\n        return { data: data, event: event };\r\n    }\r\n    return null; // Return null when event is invalid, to avoid creating unnecessary event handlers\r\n}\n\n/**\r\n * @module Inferno\r\n */ /** TypeDoc Comment */\r\n/* tslint:disable:object-literal-sort-keys */\r\nif (process.env.NODE_ENV !== \"production\") {\r\n    /* tslint:disable-next-line:no-empty */\r\n    var testFunc = function testFn() { };\r\n    if ((testFunc.name || testFunc.toString()).indexOf(\"testFn\") ===\r\n        -1) {\r\n        warning(\"It looks like you're using a minified copy of the development build \" +\r\n            \"of Inferno. When deploying Inferno apps to production, make sure to use \" +\r\n            \"the production build which skips development warnings and is faster. \" +\r\n            \"See http://infernojs.org for more details.\");\r\n    }\r\n}\r\nvar version = \"3.7.0\";\r\n// we duplicate it so it plays nicely with different module loading systems\r\nvar index = {\r\n    EMPTY_OBJ: EMPTY_OBJ,\r\n    NO_OP: NO_OP,\r\n    cloneVNode: cloneVNode,\r\n    createRenderer: createRenderer,\r\n    createVNode: createVNode,\r\n    findDOMNode: findDOMNode,\r\n    getFlagsForElementVnode: getFlagsForElementVnode,\r\n    internal_DOMNodeMap: componentToDOMNodeMap,\r\n    internal_isUnitlessNumber: isUnitlessNumber,\r\n    internal_normalize: normalize,\r\n    internal_patch: patch,\r\n    linkEvent: linkEvent,\r\n    options: options,\r\n    render: render,\r\n    version: version\r\n};\n\nexports['default'] = index;\nexports.EMPTY_OBJ = EMPTY_OBJ;\nexports.NO_OP = NO_OP;\nexports.cloneVNode = cloneVNode;\nexports.createRenderer = createRenderer;\nexports.createVNode = createVNode;\nexports.findDOMNode = findDOMNode;\nexports.getFlagsForElementVnode = getFlagsForElementVnode;\nexports.internal_DOMNodeMap = componentToDOMNodeMap;\nexports.internal_isUnitlessNumber = isUnitlessNumber;\nexports.internal_normalize = normalize;\nexports.internal_patch = patch;\nexports.linkEvent = linkEvent;\nexports.options = options;\nexports.render = render;\nexports.version = version;\n\n\n\n// WEBPACK FOOTER //\n// ./~/inferno/dist/index.js","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n// WEBPACK FOOTER //\n// ./~/invariant/browser.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n// WEBPACK FOOTER //\n// ./~/lodash.tonumber/index.js","'use strict';\n\nvar isAbsolute = function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n};\n\n// About 1.5x faster than the two-arg version of Array#splice()\nvar spliceOne = function spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }list.pop();\n};\n\n// This implementation is based heavily on node's url.parse\nvar resolvePathname = function resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n};\n\nmodule.exports = resolvePathname;\n\n\n// WEBPACK FOOTER //\n// ./~/resolve-pathname/index.js","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar valueEqual = function valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n    return valueEqual(item, b[index]);\n  });\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n};\n\nexports.default = valueEqual;\n\n\n// WEBPACK FOOTER //\n// ./~/value-equal/index.js","import { Section, Stage, Scene } from '../components.jsx'\n\nimport Alert from '../../../../lib/Alert.jsx'\n\nexport default function () {\n  return (\n    <Section>\n      <h2>Alert Examples</h2>\n      <Stage>\n        <Scene>\n          <Alert color=\"success\">\n            Some cool text in a <b>success</b> alert box!\n          </Alert>\n        </Scene>\n        <Scene>\n          <Alert color=\"warning\">\n            Some cool text in a <b>warning</b> alert box!\n          </Alert>\n        </Scene>\n        <Scene>\n          <Alert color=\"danger\">\n            Some cool text in a <b>danger</b> alert box!\n          </Alert>\n        </Scene>\n      </Stage>\n    </Section>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/Basic/Alert.jsx","import { Section, Stage, Scene } from '../components.jsx'\n\nimport Badge from '../../../../lib/Badge.jsx'\n\nexport default function () {\n  return (\n    <Section>\n      <h2>Badge Examples</h2>\n      <Stage>\n        <h2>Some nice text <Badge>new</Badge></h2>\n        <h3>Some nice text <Badge>new</Badge></h3>\n        <h4>Some nice text <Badge>new</Badge></h4>\n      </Stage>\n    </Section>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/Basic/Badge.jsx","import { Section, Stage, Scene } from '../components.jsx'\n\nimport Breadcrumb from '../../../../lib/Breadcrumb.jsx'\nimport BreadcrumbItem from '../../../../lib/BreadcrumbItem.jsx'\n\nexport default function () {\n  return (\n    <Section>\n      <h2>Breadcrumb Examples</h2>\n      <Stage>\n        <Scene>\n          <Breadcrumb>\n            <BreadcrumbItem>\n              <a href=\"#\">Home</a>\n            </BreadcrumbItem>\n            <BreadcrumbItem>\n              <a href=\"#\">Section</a>\n            </BreadcrumbItem>\n            <BreadcrumbItem active=\"true\">\n              This page\n            </BreadcrumbItem>\n          </Breadcrumb>\n        </Scene>\n      </Stage>\n    </Section>\n  )\n}\n\n\n\n// WEBPACK FOOTER //\n// ./test/browser/src/Basic/Breadcrumb.jsx"],"sourceRoot":""}